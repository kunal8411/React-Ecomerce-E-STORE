{"ast":null,"code":"/* (The MIT License)\r\n *\r\n * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\r\n * associated documentation files (the 'Software'), to deal in the Software without restriction,\r\n * including without limitation the rights to use, copy, modify, merge, publish, distribute,\r\n * sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included with all copies or\r\n * substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\r\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY  CLAIM,\r\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\n// Original WeakMap implementation by Gozala @ https://gist.github.com/1269991\n// Updated and bugfixed by Raynos @ https://gist.github.com/1638059\n// Expanded by Benvie @ https://github.com/Benvie/harmony-collections\nvoid function (global, undefined_, undefined) {\n  var getProps = Object.getOwnPropertyNames,\n      defProp = Object.defineProperty,\n      toSource = Function.prototype.toString,\n      create = Object.create,\n      hasOwn = Object.prototype.hasOwnProperty,\n      funcName = /^\\n?function\\s?(\\w*)?_?\\(/;\n\n  function define(object, key, value) {\n    if (typeof key === 'function') {\n      value = key;\n      key = nameOf(value).replace(/_$/, '');\n    }\n\n    return defProp(object, key, {\n      configurable: true,\n      writable: true,\n      value: value\n    });\n  }\n\n  function nameOf(func) {\n    return typeof func !== 'function' ? '' : 'name' in func ? func.name : toSource.call(func).match(funcName)[1];\n  } // ############\n  // ### Data ###\n  // ############\n\n\n  var Data = function () {\n    var dataDesc = {\n      value: {\n        writable: true,\n        value: undefined\n      }\n    },\n        datalock = 'return function(k){if(k===s)return l}',\n        uids = create(null),\n        createUID = function () {\n      var key = Math.random().toString(36).slice(2);\n      return key in uids ? createUID() : uids[key] = key;\n    },\n        globalID = createUID(),\n        storage = function (obj) {\n      if (hasOwn.call(obj, globalID)) return obj[globalID];\n      if (!Object.isExtensible(obj)) throw new TypeError(\"Object must be extensible\");\n      var store = create(null);\n      defProp(obj, globalID, {\n        value: store\n      });\n      return store;\n    }; // common per-object storage area made visible by patching getOwnPropertyNames'\n\n\n    define(Object, function getOwnPropertyNames(obj) {\n      var props = getProps(obj);\n      if (hasOwn.call(obj, globalID)) props.splice(props.indexOf(globalID), 1);\n      return props;\n    });\n\n    function Data() {\n      var puid = createUID(),\n          secret = {};\n\n      this.unlock = function (obj) {\n        var store = storage(obj);\n        if (hasOwn.call(store, puid)) return store[puid](secret);\n        var data = create(null, dataDesc);\n        defProp(store, puid, {\n          value: new Function('s', 'l', datalock)(secret, data)\n        });\n        return data;\n      };\n    }\n\n    define(Data.prototype, function get(o) {\n      return this.unlock(o).value;\n    });\n    define(Data.prototype, function set(o, v) {\n      this.unlock(o).value = v;\n    });\n    return Data;\n  }();\n\n  var WM = function (data) {\n    var validate = function (key) {\n      if (key == null || typeof key !== 'object' && typeof key !== 'function') throw new TypeError(\"Invalid WeakMap key\");\n    };\n\n    var wrap = function (collection, value) {\n      var store = data.unlock(collection);\n      if (store.value) throw new TypeError(\"Object is already a WeakMap\");\n      store.value = value;\n    };\n\n    var unwrap = function (collection) {\n      var storage = data.unlock(collection).value;\n      if (!storage) throw new TypeError(\"WeakMap is not generic\");\n      return storage;\n    };\n\n    var initialize = function (weakmap, iterable) {\n      if (iterable !== null && typeof iterable === 'object' && typeof iterable.forEach === 'function') {\n        iterable.forEach(function (item, i) {\n          if (item instanceof Array && item.length === 2) set.call(weakmap, iterable[i][0], iterable[i][1]);\n        });\n      }\n    };\n\n    function WeakMap(iterable) {\n      if (this === global || this == null || this === WeakMap.prototype) return new WeakMap(iterable);\n      wrap(this, new Data());\n      initialize(this, iterable);\n    }\n\n    function get(key) {\n      validate(key);\n      var value = unwrap(this).get(key);\n      return value === undefined_ ? undefined : value;\n    }\n\n    function set(key, value) {\n      validate(key); // store a token for explicit undefined so that \"has\" works correctly\n\n      unwrap(this).set(key, value === undefined ? undefined_ : value);\n    }\n\n    function has(key) {\n      validate(key);\n      return unwrap(this).get(key) !== undefined;\n    }\n\n    function delete_(key) {\n      validate(key);\n      var data = unwrap(this),\n          had = data.get(key) !== undefined;\n      data.set(key, undefined);\n      return had;\n    }\n\n    function toString() {\n      unwrap(this);\n      return '[object WeakMap]';\n    }\n\n    try {\n      var src = ('return ' + delete_).replace('e_', '\\\\u0065'),\n          del = new Function('unwrap', 'validate', src)(unwrap, validate);\n    } catch (e) {\n      var del = delete_;\n    }\n\n    var src = ('' + Object).split('Object');\n\n    var stringifier = function toString() {\n      return src[0] + nameOf(this) + src[1];\n    };\n\n    define(stringifier, stringifier);\n    var prep = {\n      __proto__: []\n    } instanceof Array ? function (f) {\n      f.__proto__ = stringifier;\n    } : function (f) {\n      define(f, stringifier);\n    };\n    prep(WeakMap);\n    [toString, get, set, has, del].forEach(function (method) {\n      define(WeakMap.prototype, method);\n      prep(method);\n    });\n    return WeakMap;\n  }(new Data());\n\n  var defaultCreator = Object.create ? function () {\n    return Object.create(null);\n  } : function () {\n    return {};\n  };\n\n  function createStorage(creator) {\n    var weakmap = new WM();\n    creator || (creator = defaultCreator);\n\n    function storage(object, value) {\n      if (value || arguments.length === 2) {\n        weakmap.set(object, value);\n      } else {\n        value = weakmap.get(object);\n\n        if (value === undefined) {\n          value = creator(object);\n          weakmap.set(object, value);\n        }\n      }\n\n      return value;\n    }\n\n    return storage;\n  }\n\n  if (typeof module !== 'undefined') {\n    module.exports = WM;\n  } else if (typeof exports !== 'undefined') {\n    exports.WeakMap = WM;\n  } else if (!('WeakMap' in global)) {\n    global.WeakMap = WM;\n  }\n\n  WM.createStorage = createStorage;\n  if (global.WeakMap) global.WeakMap.createStorage = createStorage;\n}((0, eval)('this'));","map":{"version":3,"sources":["/home/kunal/Kunal/THEMES/theme/node_modules/weakmap/weakmap.js"],"names":["global","undefined_","undefined","getProps","Object","getOwnPropertyNames","defProp","defineProperty","toSource","Function","prototype","toString","create","hasOwn","hasOwnProperty","funcName","define","object","key","value","nameOf","replace","configurable","writable","func","name","call","match","Data","dataDesc","datalock","uids","createUID","Math","random","slice","globalID","storage","obj","isExtensible","TypeError","store","props","splice","indexOf","puid","secret","unlock","data","get","o","set","v","WM","validate","wrap","collection","unwrap","initialize","weakmap","iterable","forEach","item","i","Array","length","WeakMap","has","delete_","had","src","del","e","split","stringifier","prep","__proto__","f","method","defaultCreator","createStorage","creator","arguments","module","exports","eval"],"mappings":"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","sourcesContent":["/* (The MIT License)\r\n *\r\n * Copyright (c) 2012 Brandon Benvie <http://bbenvie.com>\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\r\n * associated documentation files (the 'Software'), to deal in the Software without restriction,\r\n * including without limitation the rights to use, copy, modify, merge, publish, distribute,\r\n * sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included with all copies or\r\n * substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING\r\n * BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY  CLAIM,\r\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n// Original WeakMap implementation by Gozala @ https://gist.github.com/1269991\r\n// Updated and bugfixed by Raynos @ https://gist.github.com/1638059\r\n// Expanded by Benvie @ https://github.com/Benvie/harmony-collections\r\n\r\nvoid function(global, undefined_, undefined){\r\n  var getProps = Object.getOwnPropertyNames,\r\n      defProp  = Object.defineProperty,\r\n      toSource = Function.prototype.toString,\r\n      create   = Object.create,\r\n      hasOwn   = Object.prototype.hasOwnProperty,\r\n      funcName = /^\\n?function\\s?(\\w*)?_?\\(/;\r\n\r\n\r\n  function define(object, key, value){\r\n    if (typeof key === 'function') {\r\n      value = key;\r\n      key = nameOf(value).replace(/_$/, '');\r\n    }\r\n    return defProp(object, key, { configurable: true, writable: true, value: value });\r\n  }\r\n\r\n  function nameOf(func){\r\n    return typeof func !== 'function'\r\n          ? '' : 'name' in func\r\n          ? func.name : toSource.call(func).match(funcName)[1];\r\n  }\r\n\r\n  // ############\r\n  // ### Data ###\r\n  // ############\r\n\r\n  var Data = (function(){\r\n    var dataDesc = { value: { writable: true, value: undefined } },\r\n        datalock = 'return function(k){if(k===s)return l}',\r\n        uids     = create(null),\r\n\r\n        createUID = function(){\r\n          var key = Math.random().toString(36).slice(2);\r\n          return key in uids ? createUID() : uids[key] = key;\r\n        },\r\n\r\n        globalID = createUID(),\r\n\r\n        storage = function(obj){\r\n          if (hasOwn.call(obj, globalID))\r\n            return obj[globalID];\r\n\r\n          if (!Object.isExtensible(obj))\r\n            throw new TypeError(\"Object must be extensible\");\r\n\r\n          var store = create(null);\r\n          defProp(obj, globalID, { value: store });\r\n          return store;\r\n        };\r\n\r\n    // common per-object storage area made visible by patching getOwnPropertyNames'\r\n    define(Object, function getOwnPropertyNames(obj){\r\n      var props = getProps(obj);\r\n      if (hasOwn.call(obj, globalID))\r\n        props.splice(props.indexOf(globalID), 1);\r\n      return props;\r\n    });\r\n\r\n    function Data(){\r\n      var puid = createUID(),\r\n          secret = {};\r\n\r\n      this.unlock = function(obj){\r\n        var store = storage(obj);\r\n        if (hasOwn.call(store, puid))\r\n          return store[puid](secret);\r\n\r\n        var data = create(null, dataDesc);\r\n        defProp(store, puid, {\r\n          value: new Function('s', 'l', datalock)(secret, data)\r\n        });\r\n        return data;\r\n      }\r\n    }\r\n\r\n    define(Data.prototype, function get(o){ return this.unlock(o).value });\r\n    define(Data.prototype, function set(o, v){ this.unlock(o).value = v });\r\n\r\n    return Data;\r\n  }());\r\n\r\n\r\n  var WM = (function(data){\r\n    var validate = function(key){\r\n      if (key == null || typeof key !== 'object' && typeof key !== 'function')\r\n        throw new TypeError(\"Invalid WeakMap key\");\r\n    }\r\n\r\n    var wrap = function(collection, value){\r\n      var store = data.unlock(collection);\r\n      if (store.value)\r\n        throw new TypeError(\"Object is already a WeakMap\");\r\n      store.value = value;\r\n    }\r\n\r\n    var unwrap = function(collection){\r\n      var storage = data.unlock(collection).value;\r\n      if (!storage)\r\n        throw new TypeError(\"WeakMap is not generic\");\r\n      return storage;\r\n    }\r\n\r\n    var initialize = function(weakmap, iterable){\r\n      if (iterable !== null && typeof iterable === 'object' && typeof iterable.forEach === 'function') {\r\n        iterable.forEach(function(item, i){\r\n          if (item instanceof Array && item.length === 2)\r\n            set.call(weakmap, iterable[i][0], iterable[i][1]);\r\n        });\r\n      }\r\n    }\r\n\r\n\r\n    function WeakMap(iterable){\r\n      if (this === global || this == null || this === WeakMap.prototype)\r\n        return new WeakMap(iterable);\r\n\r\n      wrap(this, new Data);\r\n      initialize(this, iterable);\r\n    }\r\n\r\n    function get(key){\r\n      validate(key);\r\n      var value = unwrap(this).get(key);\r\n      return value === undefined_ ? undefined : value;\r\n    }\r\n\r\n    function set(key, value){\r\n      validate(key);\r\n      // store a token for explicit undefined so that \"has\" works correctly\r\n      unwrap(this).set(key, value === undefined ? undefined_ : value);\r\n    }\r\n\r\n    function has(key){\r\n      validate(key);\r\n      return unwrap(this).get(key) !== undefined;\r\n    }\r\n\r\n    function delete_(key){\r\n      validate(key);\r\n      var data = unwrap(this),\r\n          had = data.get(key) !== undefined;\r\n      data.set(key, undefined);\r\n      return had;\r\n    }\r\n\r\n    function toString(){\r\n      unwrap(this);\r\n      return '[object WeakMap]';\r\n    }\r\n\r\n    try {\r\n      var src = ('return '+delete_).replace('e_', '\\\\u0065'),\r\n          del = new Function('unwrap', 'validate', src)(unwrap, validate);\r\n    } catch (e) {\r\n      var del = delete_;\r\n    }\r\n\r\n    var src = (''+Object).split('Object');\r\n    var stringifier = function toString(){\r\n      return src[0] + nameOf(this) + src[1];\r\n    };\r\n\r\n    define(stringifier, stringifier);\r\n\r\n    var prep = { __proto__: [] } instanceof Array\r\n      ? function(f){ f.__proto__ = stringifier }\r\n      : function(f){ define(f, stringifier) };\r\n\r\n    prep(WeakMap);\r\n\r\n    [toString, get, set, has, del].forEach(function(method){\r\n      define(WeakMap.prototype, method);\r\n      prep(method);\r\n    });\r\n\r\n    return WeakMap;\r\n  }(new Data));\r\n\r\n  var defaultCreator = Object.create\r\n    ? function(){ return Object.create(null) }\r\n    : function(){ return {} };\r\n\r\n  function createStorage(creator){\r\n    var weakmap = new WM;\r\n    creator || (creator = defaultCreator);\r\n\r\n    function storage(object, value){\r\n      if (value || arguments.length === 2) {\r\n        weakmap.set(object, value);\r\n      } else {\r\n        value = weakmap.get(object);\r\n        if (value === undefined) {\r\n          value = creator(object);\r\n          weakmap.set(object, value);\r\n        }\r\n      }\r\n      return value;\r\n    }\r\n\r\n    return storage;\r\n  }\r\n\r\n\r\n  if (typeof module !== 'undefined') {\r\n    module.exports = WM;\r\n  } else if (typeof exports !== 'undefined') {\r\n    exports.WeakMap = WM;\r\n  } else if (!('WeakMap' in global)) {\r\n    global.WeakMap = WM;\r\n  }\r\n\r\n  WM.createStorage = createStorage;\r\n  if (global.WeakMap)\r\n    global.WeakMap.createStorage = createStorage;\r\n}((0, eval)('this'));\r\n"]},"metadata":{},"sourceType":"script"}