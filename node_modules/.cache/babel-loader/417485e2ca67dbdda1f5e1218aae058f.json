{"ast":null,"code":"/*!\n * chartjs-plugin-datalabels v0.7.0\n * https://chartjs-plugin-datalabels.netlify.com\n * (c) 2019 Chart.js Contributors\n * Released under the MIT license\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js')) : typeof define === 'function' && define.amd ? define(['chart.js'], factory) : (global = global || self, global.ChartDataLabels = factory(global.Chart));\n})(this, function (Chart) {\n  'use strict';\n\n  Chart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\n  var helpers = Chart.helpers;\n\n  var devicePixelRatio = function () {\n    if (typeof window !== 'undefined') {\n      if (window.devicePixelRatio) {\n        return window.devicePixelRatio;\n      } // devicePixelRatio is undefined on IE10\n      // https://stackoverflow.com/a/20204180/8837887\n      // https://github.com/chartjs/chartjs-plugin-datalabels/issues/85\n\n\n      var screen = window.screen;\n\n      if (screen) {\n        return (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1);\n      }\n    }\n\n    return 1;\n  }();\n\n  var utils = {\n    // @todo move this in Chart.helpers.toTextLines\n    toTextLines: function (inputs) {\n      var lines = [];\n      var input;\n      inputs = [].concat(inputs);\n\n      while (inputs.length) {\n        input = inputs.pop();\n\n        if (typeof input === 'string') {\n          lines.unshift.apply(lines, input.split('\\n'));\n        } else if (Array.isArray(input)) {\n          inputs.push.apply(inputs, input);\n        } else if (!helpers.isNullOrUndef(inputs)) {\n          lines.unshift('' + input);\n        }\n      }\n\n      return lines;\n    },\n    // @todo move this method in Chart.helpers.canvas.toFont (deprecates helpers.fontString)\n    // @see https://developer.mozilla.org/en-US/docs/Web/CSS/font\n    toFontString: function (font) {\n      if (!font || helpers.isNullOrUndef(font.size) || helpers.isNullOrUndef(font.family)) {\n        return null;\n      }\n\n      return (font.style ? font.style + ' ' : '') + (font.weight ? font.weight + ' ' : '') + font.size + 'px ' + font.family;\n    },\n    // @todo move this in Chart.helpers.canvas.textSize\n    // @todo cache calls of measureText if font doesn't change?!\n    textSize: function (ctx, lines, font) {\n      var items = [].concat(lines);\n      var ilen = items.length;\n      var prev = ctx.font;\n      var width = 0;\n      var i;\n      ctx.font = font.string;\n\n      for (i = 0; i < ilen; ++i) {\n        width = Math.max(ctx.measureText(items[i]).width, width);\n      }\n\n      ctx.font = prev;\n      return {\n        height: ilen * font.lineHeight,\n        width: width\n      };\n    },\n    // @todo move this method in Chart.helpers.options.toFont\n    parseFont: function (value) {\n      var global = Chart.defaults.global;\n      var size = helpers.valueOrDefault(value.size, global.defaultFontSize);\n      var font = {\n        family: helpers.valueOrDefault(value.family, global.defaultFontFamily),\n        lineHeight: helpers.options.toLineHeight(value.lineHeight, size),\n        size: size,\n        style: helpers.valueOrDefault(value.style, global.defaultFontStyle),\n        weight: helpers.valueOrDefault(value.weight, null),\n        string: ''\n      };\n      font.string = utils.toFontString(font);\n      return font;\n    },\n\n    /**\n     * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\n     * @todo move this method in Chart.helpers.bound\n     * https://doc.qt.io/qt-5/qtglobal.html#qBound\n     */\n    bound: function (min, value, max) {\n      return Math.max(min, Math.min(value, max));\n    },\n\n    /**\n     * Returns an array of pair [value, state] where state is:\n     * * -1: value is only in a0 (removed)\n     * *  1: value is only in a1 (added)\n     */\n    arrayDiff: function (a0, a1) {\n      var prev = a0.slice();\n      var updates = [];\n      var i, j, ilen, v;\n\n      for (i = 0, ilen = a1.length; i < ilen; ++i) {\n        v = a1[i];\n        j = prev.indexOf(v);\n\n        if (j === -1) {\n          updates.push([v, 1]);\n        } else {\n          prev.splice(j, 1);\n        }\n      }\n\n      for (i = 0, ilen = prev.length; i < ilen; ++i) {\n        updates.push([prev[i], -1]);\n      }\n\n      return updates;\n    },\n\n    /**\n     * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\n     */\n    rasterize: function (v) {\n      return Math.round(v * devicePixelRatio) / devicePixelRatio;\n    }\n  };\n\n  function orient(point, origin) {\n    var x0 = origin.x;\n    var y0 = origin.y;\n\n    if (x0 === null) {\n      return {\n        x: 0,\n        y: -1\n      };\n    }\n\n    if (y0 === null) {\n      return {\n        x: 1,\n        y: 0\n      };\n    }\n\n    var dx = point.x - x0;\n    var dy = point.y - y0;\n    var ln = Math.sqrt(dx * dx + dy * dy);\n    return {\n      x: ln ? dx / ln : 0,\n      y: ln ? dy / ln : -1\n    };\n  }\n\n  function aligned(x, y, vx, vy, align) {\n    switch (align) {\n      case 'center':\n        vx = vy = 0;\n        break;\n\n      case 'bottom':\n        vx = 0;\n        vy = 1;\n        break;\n\n      case 'right':\n        vx = 1;\n        vy = 0;\n        break;\n\n      case 'left':\n        vx = -1;\n        vy = 0;\n        break;\n\n      case 'top':\n        vx = 0;\n        vy = -1;\n        break;\n\n      case 'start':\n        vx = -vx;\n        vy = -vy;\n        break;\n\n      case 'end':\n        // keep natural orientation\n        break;\n\n      default:\n        // clockwise rotation (in degree)\n        align *= Math.PI / 180;\n        vx = Math.cos(align);\n        vy = Math.sin(align);\n        break;\n    }\n\n    return {\n      x: x,\n      y: y,\n      vx: vx,\n      vy: vy\n    };\n  } // Line clipping (Cohen–Sutherland algorithm)\n  // https://en.wikipedia.org/wiki/Cohen–Sutherland_algorithm\n\n\n  var R_INSIDE = 0;\n  var R_LEFT = 1;\n  var R_RIGHT = 2;\n  var R_BOTTOM = 4;\n  var R_TOP = 8;\n\n  function region(x, y, rect) {\n    var res = R_INSIDE;\n\n    if (x < rect.left) {\n      res |= R_LEFT;\n    } else if (x > rect.right) {\n      res |= R_RIGHT;\n    }\n\n    if (y < rect.top) {\n      res |= R_TOP;\n    } else if (y > rect.bottom) {\n      res |= R_BOTTOM;\n    }\n\n    return res;\n  }\n\n  function clipped(segment, area) {\n    var x0 = segment.x0;\n    var y0 = segment.y0;\n    var x1 = segment.x1;\n    var y1 = segment.y1;\n    var r0 = region(x0, y0, area);\n    var r1 = region(x1, y1, area);\n    var r, x, y; // eslint-disable-next-line no-constant-condition\n\n    while (true) {\n      if (!(r0 | r1) || r0 & r1) {\n        // both points inside or on the same side: no clipping\n        break;\n      } // at least one point is outside\n\n\n      r = r0 || r1;\n\n      if (r & R_TOP) {\n        x = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0);\n        y = area.top;\n      } else if (r & R_BOTTOM) {\n        x = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0);\n        y = area.bottom;\n      } else if (r & R_RIGHT) {\n        y = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0);\n        x = area.right;\n      } else if (r & R_LEFT) {\n        y = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0);\n        x = area.left;\n      }\n\n      if (r === r0) {\n        x0 = x;\n        y0 = y;\n        r0 = region(x0, y0, area);\n      } else {\n        x1 = x;\n        y1 = y;\n        r1 = region(x1, y1, area);\n      }\n    }\n\n    return {\n      x0: x0,\n      x1: x1,\n      y0: y0,\n      y1: y1\n    };\n  }\n\n  function compute(range, config) {\n    var anchor = config.anchor;\n    var segment = range;\n    var x, y;\n\n    if (config.clamp) {\n      segment = clipped(segment, config.area);\n    }\n\n    if (anchor === 'start') {\n      x = segment.x0;\n      y = segment.y0;\n    } else if (anchor === 'end') {\n      x = segment.x1;\n      y = segment.y1;\n    } else {\n      x = (segment.x0 + segment.x1) / 2;\n      y = (segment.y0 + segment.y1) / 2;\n    }\n\n    return aligned(x, y, range.vx, range.vy, config.align);\n  }\n\n  var positioners = {\n    arc: function (vm, config) {\n      var angle = (vm.startAngle + vm.endAngle) / 2;\n      var vx = Math.cos(angle);\n      var vy = Math.sin(angle);\n      var r0 = vm.innerRadius;\n      var r1 = vm.outerRadius;\n      return compute({\n        x0: vm.x + vx * r0,\n        y0: vm.y + vy * r0,\n        x1: vm.x + vx * r1,\n        y1: vm.y + vy * r1,\n        vx: vx,\n        vy: vy\n      }, config);\n    },\n    point: function (vm, config) {\n      var v = orient(vm, config.origin);\n      var rx = v.x * vm.radius;\n      var ry = v.y * vm.radius;\n      return compute({\n        x0: vm.x - rx,\n        y0: vm.y - ry,\n        x1: vm.x + rx,\n        y1: vm.y + ry,\n        vx: v.x,\n        vy: v.y\n      }, config);\n    },\n    rect: function (vm, config) {\n      var v = orient(vm, config.origin);\n      var x = vm.x;\n      var y = vm.y;\n      var sx = 0;\n      var sy = 0;\n\n      if (vm.horizontal) {\n        x = Math.min(vm.x, vm.base);\n        sx = Math.abs(vm.base - vm.x);\n      } else {\n        y = Math.min(vm.y, vm.base);\n        sy = Math.abs(vm.base - vm.y);\n      }\n\n      return compute({\n        x0: x,\n        y0: y + sy,\n        x1: x + sx,\n        y1: y,\n        vx: v.x,\n        vy: v.y\n      }, config);\n    },\n    fallback: function (vm, config) {\n      var v = orient(vm, config.origin);\n      return compute({\n        x0: vm.x,\n        y0: vm.y,\n        x1: vm.x,\n        y1: vm.y,\n        vx: v.x,\n        vy: v.y\n      }, config);\n    }\n  };\n  var helpers$1 = Chart.helpers;\n  var rasterize = utils.rasterize;\n\n  function boundingRects(model) {\n    var borderWidth = model.borderWidth || 0;\n    var padding = model.padding;\n    var th = model.size.height;\n    var tw = model.size.width;\n    var tx = -tw / 2;\n    var ty = -th / 2;\n    return {\n      frame: {\n        x: tx - padding.left - borderWidth,\n        y: ty - padding.top - borderWidth,\n        w: tw + padding.width + borderWidth * 2,\n        h: th + padding.height + borderWidth * 2\n      },\n      text: {\n        x: tx,\n        y: ty,\n        w: tw,\n        h: th\n      }\n    };\n  }\n\n  function getScaleOrigin(el) {\n    var horizontal = el._model.horizontal;\n    var scale = el._scale || horizontal && el._xScale || el._yScale;\n\n    if (!scale) {\n      return null;\n    }\n\n    if (scale.xCenter !== undefined && scale.yCenter !== undefined) {\n      return {\n        x: scale.xCenter,\n        y: scale.yCenter\n      };\n    }\n\n    var pixel = scale.getBasePixel();\n    return horizontal ? {\n      x: pixel,\n      y: null\n    } : {\n      x: null,\n      y: pixel\n    };\n  }\n\n  function getPositioner(el) {\n    if (el instanceof Chart.elements.Arc) {\n      return positioners.arc;\n    }\n\n    if (el instanceof Chart.elements.Point) {\n      return positioners.point;\n    }\n\n    if (el instanceof Chart.elements.Rectangle) {\n      return positioners.rect;\n    }\n\n    return positioners.fallback;\n  }\n\n  function drawFrame(ctx, rect, model) {\n    var bgColor = model.backgroundColor;\n    var borderColor = model.borderColor;\n    var borderWidth = model.borderWidth;\n\n    if (!bgColor && (!borderColor || !borderWidth)) {\n      return;\n    }\n\n    ctx.beginPath();\n    helpers$1.canvas.roundedRect(ctx, rasterize(rect.x) + borderWidth / 2, rasterize(rect.y) + borderWidth / 2, rasterize(rect.w) - borderWidth, rasterize(rect.h) - borderWidth, model.borderRadius);\n    ctx.closePath();\n\n    if (bgColor) {\n      ctx.fillStyle = bgColor;\n      ctx.fill();\n    }\n\n    if (borderColor && borderWidth) {\n      ctx.strokeStyle = borderColor;\n      ctx.lineWidth = borderWidth;\n      ctx.lineJoin = 'miter';\n      ctx.stroke();\n    }\n  }\n\n  function textGeometry(rect, align, font) {\n    var h = font.lineHeight;\n    var w = rect.w;\n    var x = rect.x;\n    var y = rect.y + h / 2;\n\n    if (align === 'center') {\n      x += w / 2;\n    } else if (align === 'end' || align === 'right') {\n      x += w;\n    }\n\n    return {\n      h: h,\n      w: w,\n      x: x,\n      y: y\n    };\n  }\n\n  function drawTextLine(ctx, text, cfg) {\n    var shadow = ctx.shadowBlur;\n    var stroked = cfg.stroked;\n    var x = rasterize(cfg.x);\n    var y = rasterize(cfg.y);\n    var w = rasterize(cfg.w);\n\n    if (stroked) {\n      ctx.strokeText(text, x, y, w);\n    }\n\n    if (cfg.filled) {\n      if (shadow && stroked) {\n        // Prevent drawing shadow on both the text stroke and fill, so\n        // if the text is stroked, remove the shadow for the text fill.\n        ctx.shadowBlur = 0;\n      }\n\n      ctx.fillText(text, x, y, w);\n\n      if (shadow && stroked) {\n        ctx.shadowBlur = shadow;\n      }\n    }\n  }\n\n  function drawText(ctx, lines, rect, model) {\n    var align = model.textAlign;\n    var color = model.color;\n    var filled = !!color;\n    var font = model.font;\n    var ilen = lines.length;\n    var strokeColor = model.textStrokeColor;\n    var strokeWidth = model.textStrokeWidth;\n    var stroked = strokeColor && strokeWidth;\n    var i;\n\n    if (!ilen || !filled && !stroked) {\n      return;\n    } // Adjust coordinates based on text alignment and line height\n\n\n    rect = textGeometry(rect, align, font);\n    ctx.font = font.string;\n    ctx.textAlign = align;\n    ctx.textBaseline = 'middle';\n    ctx.shadowBlur = model.textShadowBlur;\n    ctx.shadowColor = model.textShadowColor;\n\n    if (filled) {\n      ctx.fillStyle = color;\n    }\n\n    if (stroked) {\n      ctx.lineJoin = 'round';\n      ctx.lineWidth = strokeWidth;\n      ctx.strokeStyle = strokeColor;\n    }\n\n    for (i = 0, ilen = lines.length; i < ilen; ++i) {\n      drawTextLine(ctx, lines[i], {\n        stroked: stroked,\n        filled: filled,\n        w: rect.w,\n        x: rect.x,\n        y: rect.y + rect.h * i\n      });\n    }\n  }\n\n  var Label = function (config, ctx, el, index) {\n    var me = this;\n    me._config = config;\n    me._index = index;\n    me._model = null;\n    me._rects = null;\n    me._ctx = ctx;\n    me._el = el;\n  };\n\n  helpers$1.extend(Label.prototype, {\n    /**\n     * @private\n     */\n    _modelize: function (display, lines, config, context) {\n      var me = this;\n      var index = me._index;\n      var resolve = helpers$1.options.resolve;\n      var font = utils.parseFont(resolve([config.font, {}], context, index));\n      var color = resolve([config.color, Chart.defaults.global.defaultFontColor], context, index);\n      return {\n        align: resolve([config.align, 'center'], context, index),\n        anchor: resolve([config.anchor, 'center'], context, index),\n        area: context.chart.chartArea,\n        backgroundColor: resolve([config.backgroundColor, null], context, index),\n        borderColor: resolve([config.borderColor, null], context, index),\n        borderRadius: resolve([config.borderRadius, 0], context, index),\n        borderWidth: resolve([config.borderWidth, 0], context, index),\n        clamp: resolve([config.clamp, false], context, index),\n        clip: resolve([config.clip, false], context, index),\n        color: color,\n        display: display,\n        font: font,\n        lines: lines,\n        offset: resolve([config.offset, 0], context, index),\n        opacity: resolve([config.opacity, 1], context, index),\n        origin: getScaleOrigin(me._el),\n        padding: helpers$1.options.toPadding(resolve([config.padding, 0], context, index)),\n        positioner: getPositioner(me._el),\n        rotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180),\n        size: utils.textSize(me._ctx, lines, font),\n        textAlign: resolve([config.textAlign, 'start'], context, index),\n        textShadowBlur: resolve([config.textShadowBlur, 0], context, index),\n        textShadowColor: resolve([config.textShadowColor, color], context, index),\n        textStrokeColor: resolve([config.textStrokeColor, color], context, index),\n        textStrokeWidth: resolve([config.textStrokeWidth, 0], context, index)\n      };\n    },\n    update: function (context) {\n      var me = this;\n      var model = null;\n      var rects = null;\n      var index = me._index;\n      var config = me._config;\n      var value, label, lines; // We first resolve the display option (separately) to avoid computing\n      // other options in case the label is hidden (i.e. display: false).\n\n      var display = helpers$1.options.resolve([config.display, true], context, index);\n\n      if (display) {\n        value = context.dataset.data[index];\n        label = helpers$1.valueOrDefault(helpers$1.callback(config.formatter, [value, context]), value);\n        lines = helpers$1.isNullOrUndef(label) ? [] : utils.toTextLines(label);\n\n        if (lines.length) {\n          model = me._modelize(display, lines, config, context);\n          rects = boundingRects(model);\n        }\n      }\n\n      me._model = model;\n      me._rects = rects;\n    },\n    geometry: function () {\n      return this._rects ? this._rects.frame : {};\n    },\n    rotation: function () {\n      return this._model ? this._model.rotation : 0;\n    },\n    visible: function () {\n      return this._model && this._model.opacity;\n    },\n    model: function () {\n      return this._model;\n    },\n    draw: function (chart, center) {\n      var me = this;\n      var ctx = chart.ctx;\n      var model = me._model;\n      var rects = me._rects;\n      var area;\n\n      if (!this.visible()) {\n        return;\n      }\n\n      ctx.save();\n\n      if (model.clip) {\n        area = model.area;\n        ctx.beginPath();\n        ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n        ctx.clip();\n      }\n\n      ctx.globalAlpha = utils.bound(0, model.opacity, 1);\n      ctx.translate(rasterize(center.x), rasterize(center.y));\n      ctx.rotate(model.rotation);\n      drawFrame(ctx, rects.frame, model);\n      drawText(ctx, model.lines, rects.text, model);\n      ctx.restore();\n    }\n  });\n  var helpers$2 = Chart.helpers;\n  var MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991; // eslint-disable-line es/no-number-minsafeinteger\n\n  var MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991; // eslint-disable-line es/no-number-maxsafeinteger\n\n  function rotated(point, center, angle) {\n    var cos = Math.cos(angle);\n    var sin = Math.sin(angle);\n    var cx = center.x;\n    var cy = center.y;\n    return {\n      x: cx + cos * (point.x - cx) - sin * (point.y - cy),\n      y: cy + sin * (point.x - cx) + cos * (point.y - cy)\n    };\n  }\n\n  function projected(points, axis) {\n    var min = MAX_INTEGER;\n    var max = MIN_INTEGER;\n    var origin = axis.origin;\n    var i, pt, vx, vy, dp;\n\n    for (i = 0; i < points.length; ++i) {\n      pt = points[i];\n      vx = pt.x - origin.x;\n      vy = pt.y - origin.y;\n      dp = axis.vx * vx + axis.vy * vy;\n      min = Math.min(min, dp);\n      max = Math.max(max, dp);\n    }\n\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  function toAxis(p0, p1) {\n    var vx = p1.x - p0.x;\n    var vy = p1.y - p0.y;\n    var ln = Math.sqrt(vx * vx + vy * vy);\n    return {\n      vx: (p1.x - p0.x) / ln,\n      vy: (p1.y - p0.y) / ln,\n      origin: p0,\n      ln: ln\n    };\n  }\n\n  var HitBox = function () {\n    this._rotation = 0;\n    this._rect = {\n      x: 0,\n      y: 0,\n      w: 0,\n      h: 0\n    };\n  };\n\n  helpers$2.extend(HitBox.prototype, {\n    center: function () {\n      var r = this._rect;\n      return {\n        x: r.x + r.w / 2,\n        y: r.y + r.h / 2\n      };\n    },\n    update: function (center, rect, rotation) {\n      this._rotation = rotation;\n      this._rect = {\n        x: rect.x + center.x,\n        y: rect.y + center.y,\n        w: rect.w,\n        h: rect.h\n      };\n    },\n    contains: function (point) {\n      var me = this;\n      var margin = 1;\n      var rect = me._rect;\n      point = rotated(point, me.center(), -me._rotation);\n      return !(point.x < rect.x - margin || point.y < rect.y - margin || point.x > rect.x + rect.w + margin * 2 || point.y > rect.y + rect.h + margin * 2);\n    },\n    // Separating Axis Theorem\n    // https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n    intersects: function (other) {\n      var r0 = this._points();\n\n      var r1 = other._points();\n\n      var axes = [toAxis(r0[0], r0[1]), toAxis(r0[0], r0[3])];\n      var i, pr0, pr1;\n\n      if (this._rotation !== other._rotation) {\n        // Only separate with r1 axis if the rotation is different,\n        // else it's enough to separate r0 and r1 with r0 axis only!\n        axes.push(toAxis(r1[0], r1[1]), toAxis(r1[0], r1[3]));\n      }\n\n      for (i = 0; i < axes.length; ++i) {\n        pr0 = projected(r0, axes[i]);\n        pr1 = projected(r1, axes[i]);\n\n        if (pr0.max < pr1.min || pr1.max < pr0.min) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n\n    /**\n     * @private\n     */\n    _points: function () {\n      var me = this;\n      var rect = me._rect;\n      var angle = me._rotation;\n      var center = me.center();\n      return [rotated({\n        x: rect.x,\n        y: rect.y\n      }, center, angle), rotated({\n        x: rect.x + rect.w,\n        y: rect.y\n      }, center, angle), rotated({\n        x: rect.x + rect.w,\n        y: rect.y + rect.h\n      }, center, angle), rotated({\n        x: rect.x,\n        y: rect.y + rect.h\n      }, center, angle)];\n    }\n  });\n\n  function coordinates(view, model, geometry) {\n    var point = model.positioner(view, model);\n    var vx = point.vx;\n    var vy = point.vy;\n\n    if (!vx && !vy) {\n      // if aligned center, we don't want to offset the center point\n      return {\n        x: point.x,\n        y: point.y\n      };\n    }\n\n    var w = geometry.w;\n    var h = geometry.h; // take in account the label rotation\n\n    var rotation = model.rotation;\n    var dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation));\n    var dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation)); // scale the unit vector (vx, vy) to get at least dx or dy equal to\n    // w or h respectively (else we would calculate the distance to the\n    // ellipse inscribed in the bounding rect)\n\n    var vs = 1 / Math.max(Math.abs(vx), Math.abs(vy));\n    dx *= vx * vs;\n    dy *= vy * vs; // finally, include the explicit offset\n\n    dx += model.offset * vx;\n    dy += model.offset * vy;\n    return {\n      x: point.x + dx,\n      y: point.y + dy\n    };\n  }\n\n  function collide(labels, collider) {\n    var i, j, s0, s1; // IMPORTANT Iterate in the reverse order since items at the end of the\n    // list have an higher weight/priority and thus should be less impacted\n    // by the overlapping strategy.\n\n    for (i = labels.length - 1; i >= 0; --i) {\n      s0 = labels[i].$layout;\n\n      for (j = i - 1; j >= 0 && s0._visible; --j) {\n        s1 = labels[j].$layout;\n\n        if (s1._visible && s0._box.intersects(s1._box)) {\n          collider(s0, s1);\n        }\n      }\n    }\n\n    return labels;\n  }\n\n  function compute$1(labels) {\n    var i, ilen, label, state, geometry, center; // Initialize labels for overlap detection\n\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      label = labels[i];\n      state = label.$layout;\n\n      if (state._visible) {\n        geometry = label.geometry();\n        center = coordinates(label._el._model, label.model(), geometry);\n\n        state._box.update(center, geometry, label.rotation());\n      }\n    } // Auto hide overlapping labels\n\n\n    return collide(labels, function (s0, s1) {\n      var h0 = s0._hidable;\n      var h1 = s1._hidable;\n\n      if (h0 && h1 || h1) {\n        s1._visible = false;\n      } else if (h0) {\n        s0._visible = false;\n      }\n    });\n  }\n\n  var layout = {\n    prepare: function (datasets) {\n      var labels = [];\n      var i, j, ilen, jlen, label;\n\n      for (i = 0, ilen = datasets.length; i < ilen; ++i) {\n        for (j = 0, jlen = datasets[i].length; j < jlen; ++j) {\n          label = datasets[i][j];\n          labels.push(label);\n          label.$layout = {\n            _box: new HitBox(),\n            _hidable: false,\n            _visible: true,\n            _set: i,\n            _idx: j\n          };\n        }\n      } // TODO New `z` option: labels with a higher z-index are drawn\n      // of top of the ones with a lower index. Lowest z-index labels\n      // are also discarded first when hiding overlapping labels.\n\n\n      labels.sort(function (a, b) {\n        var sa = a.$layout;\n        var sb = b.$layout;\n        return sa._idx === sb._idx ? sb._set - sa._set : sb._idx - sa._idx;\n      });\n      this.update(labels);\n      return labels;\n    },\n    update: function (labels) {\n      var dirty = false;\n      var i, ilen, label, model, state;\n\n      for (i = 0, ilen = labels.length; i < ilen; ++i) {\n        label = labels[i];\n        model = label.model();\n        state = label.$layout;\n        state._hidable = model && model.display === 'auto';\n        state._visible = label.visible();\n        dirty |= state._hidable;\n      }\n\n      if (dirty) {\n        compute$1(labels);\n      }\n    },\n    lookup: function (labels, point) {\n      var i, state; // IMPORTANT Iterate in the reverse order since items at the end of\n      // the list have an higher z-index, thus should be picked first.\n\n      for (i = labels.length - 1; i >= 0; --i) {\n        state = labels[i].$layout;\n\n        if (state && state._visible && state._box.contains(point)) {\n          return labels[i];\n        }\n      }\n\n      return null;\n    },\n    draw: function (chart, labels) {\n      var i, ilen, label, state, geometry, center;\n\n      for (i = 0, ilen = labels.length; i < ilen; ++i) {\n        label = labels[i];\n        state = label.$layout;\n\n        if (state._visible) {\n          geometry = label.geometry();\n          center = coordinates(label._el._view, label.model(), geometry);\n\n          state._box.update(center, geometry, label.rotation());\n\n          label.draw(chart, center);\n        }\n      }\n    }\n  };\n  var helpers$3 = Chart.helpers;\n\n  var formatter = function (value) {\n    if (helpers$3.isNullOrUndef(value)) {\n      return null;\n    }\n\n    var label = value;\n    var keys, klen, k;\n\n    if (helpers$3.isObject(value)) {\n      if (!helpers$3.isNullOrUndef(value.label)) {\n        label = value.label;\n      } else if (!helpers$3.isNullOrUndef(value.r)) {\n        label = value.r;\n      } else {\n        label = '';\n        keys = Object.keys(value);\n\n        for (k = 0, klen = keys.length; k < klen; ++k) {\n          label += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]];\n        }\n      }\n    }\n\n    return '' + label;\n  };\n  /**\n   * IMPORTANT: make sure to also update tests and TypeScript definition\n   * files (`/test/specs/defaults.spec.js` and `/types/options.d.ts`)\n   */\n\n\n  var defaults = {\n    align: 'center',\n    anchor: 'center',\n    backgroundColor: null,\n    borderColor: null,\n    borderRadius: 0,\n    borderWidth: 0,\n    clamp: false,\n    clip: false,\n    color: undefined,\n    display: true,\n    font: {\n      family: undefined,\n      lineHeight: 1.2,\n      size: undefined,\n      style: undefined,\n      weight: null\n    },\n    formatter: formatter,\n    labels: undefined,\n    listeners: {},\n    offset: 4,\n    opacity: 1,\n    padding: {\n      top: 4,\n      right: 4,\n      bottom: 4,\n      left: 4\n    },\n    rotation: 0,\n    textAlign: 'start',\n    textStrokeColor: undefined,\n    textStrokeWidth: 0,\n    textShadowBlur: 0,\n    textShadowColor: undefined\n  };\n  /**\n   * @see https://github.com/chartjs/Chart.js/issues/4176\n   */\n\n  var helpers$4 = Chart.helpers;\n  var EXPANDO_KEY = '$datalabels';\n  var DEFAULT_KEY = '$default';\n\n  function configure(dataset, options) {\n    var override = dataset.datalabels;\n    var listeners = {};\n    var configs = [];\n    var labels, keys;\n\n    if (override === false) {\n      return null;\n    }\n\n    if (override === true) {\n      override = {};\n    }\n\n    options = helpers$4.merge({}, [options, override]);\n    labels = options.labels || {};\n    keys = Object.keys(labels);\n    delete options.labels;\n\n    if (keys.length) {\n      keys.forEach(function (key) {\n        if (labels[key]) {\n          configs.push(helpers$4.merge({}, [options, labels[key], {\n            _key: key\n          }]));\n        }\n      });\n    } else {\n      // Default label if no \"named\" label defined.\n      configs.push(options);\n    } // listeners: {<event-type>: {<label-key>: <fn>}}\n\n\n    listeners = configs.reduce(function (target, config) {\n      helpers$4.each(config.listeners || {}, function (fn, event) {\n        target[event] = target[event] || {};\n        target[event][config._key || DEFAULT_KEY] = fn;\n      });\n      delete config.listeners;\n      return target;\n    }, {});\n    return {\n      labels: configs,\n      listeners: listeners\n    };\n  }\n\n  function dispatchEvent(chart, listeners, label) {\n    if (!listeners) {\n      return;\n    }\n\n    var context = label.$context;\n    var groups = label.$groups;\n    var callback;\n\n    if (!listeners[groups._set]) {\n      return;\n    }\n\n    callback = listeners[groups._set][groups._key];\n\n    if (!callback) {\n      return;\n    }\n\n    if (helpers$4.callback(callback, [context]) === true) {\n      // Users are allowed to tweak the given context by injecting values that can be\n      // used in scriptable options to display labels differently based on the current\n      // event (e.g. highlight an hovered label). That's why we update the label with\n      // the output context and schedule a new chart render by setting it dirty.\n      chart[EXPANDO_KEY]._dirty = true;\n      label.update(context);\n    }\n  }\n\n  function dispatchMoveEvents(chart, listeners, previous, label) {\n    var enter, leave;\n\n    if (!previous && !label) {\n      return;\n    }\n\n    if (!previous) {\n      enter = true;\n    } else if (!label) {\n      leave = true;\n    } else if (previous !== label) {\n      leave = enter = true;\n    }\n\n    if (leave) {\n      dispatchEvent(chart, listeners.leave, previous);\n    }\n\n    if (enter) {\n      dispatchEvent(chart, listeners.enter, label);\n    }\n  }\n\n  function handleMoveEvents(chart, event) {\n    var expando = chart[EXPANDO_KEY];\n    var listeners = expando._listeners;\n    var previous, label;\n\n    if (!listeners.enter && !listeners.leave) {\n      return;\n    }\n\n    if (event.type === 'mousemove') {\n      label = layout.lookup(expando._labels, event);\n    } else if (event.type !== 'mouseout') {\n      return;\n    }\n\n    previous = expando._hovered;\n    expando._hovered = label;\n    dispatchMoveEvents(chart, listeners, previous, label);\n  }\n\n  function handleClickEvents(chart, event) {\n    var expando = chart[EXPANDO_KEY];\n    var handlers = expando._listeners.click;\n    var label = handlers && layout.lookup(expando._labels, event);\n\n    if (label) {\n      dispatchEvent(chart, handlers, label);\n    }\n  } // https://github.com/chartjs/chartjs-plugin-datalabels/issues/108\n\n\n  function invalidate(chart) {\n    if (chart.animating) {\n      return;\n    } // `chart.animating` can be `false` even if there is animation in progress,\n    // so let's iterate all animations to find if there is one for the `chart`.\n\n\n    var animations = Chart.animationService.animations;\n\n    for (var i = 0, ilen = animations.length; i < ilen; ++i) {\n      if (animations[i].chart === chart) {\n        return;\n      }\n    } // No render scheduled: trigger a \"lazy\" render that can be canceled in case\n    // of hover interactions. The 1ms duration is a workaround to make sure an\n    // animation is created so the controller can stop it before any transition.\n\n\n    chart.render({\n      duration: 1,\n      lazy: true\n    });\n  }\n\n  Chart.defaults.global.plugins.datalabels = defaults;\n  var plugin = {\n    id: 'datalabels',\n    beforeInit: function (chart) {\n      chart[EXPANDO_KEY] = {\n        _actives: []\n      };\n    },\n    beforeUpdate: function (chart) {\n      var expando = chart[EXPANDO_KEY];\n      expando._listened = false;\n      expando._listeners = {}; // {<event-type>: {<dataset-index>: {<label-key>: <fn>}}}\n\n      expando._datasets = []; // per dataset labels: [Label[]]\n\n      expando._labels = []; // layouted labels: Label[]\n    },\n    afterDatasetUpdate: function (chart, args, options) {\n      var datasetIndex = args.index;\n      var expando = chart[EXPANDO_KEY];\n      var labels = expando._datasets[datasetIndex] = [];\n      var visible = chart.isDatasetVisible(datasetIndex);\n      var dataset = chart.data.datasets[datasetIndex];\n      var config = configure(dataset, options);\n      var elements = args.meta.data || [];\n      var ctx = chart.ctx;\n      var i, j, ilen, jlen, cfg, key, el, label;\n      ctx.save();\n\n      for (i = 0, ilen = elements.length; i < ilen; ++i) {\n        el = elements[i];\n        el[EXPANDO_KEY] = [];\n\n        if (visible && el && !el.hidden && !el._model.skip) {\n          for (j = 0, jlen = config.labels.length; j < jlen; ++j) {\n            cfg = config.labels[j];\n            key = cfg._key;\n            label = new Label(cfg, ctx, el, i);\n            label.$groups = {\n              _set: datasetIndex,\n              _key: key || DEFAULT_KEY\n            };\n            label.$context = {\n              active: false,\n              chart: chart,\n              dataIndex: i,\n              dataset: dataset,\n              datasetIndex: datasetIndex\n            };\n            label.update(label.$context);\n            el[EXPANDO_KEY].push(label);\n            labels.push(label);\n          }\n        }\n      }\n\n      ctx.restore(); // Store listeners at the chart level and per event type to optimize\n      // cases where no listeners are registered for a specific event.\n\n      helpers$4.merge(expando._listeners, config.listeners, {\n        merger: function (event, target, source) {\n          target[event] = target[event] || {};\n          target[event][args.index] = source[event];\n          expando._listened = true;\n        }\n      });\n    },\n    afterUpdate: function (chart, options) {\n      chart[EXPANDO_KEY]._labels = layout.prepare(chart[EXPANDO_KEY]._datasets, options);\n    },\n    // Draw labels on top of all dataset elements\n    // https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\n    // https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\n    afterDatasetsDraw: function (chart) {\n      layout.draw(chart, chart[EXPANDO_KEY]._labels);\n    },\n    beforeEvent: function (chart, event) {\n      // If there is no listener registered for this chart, `listened` will be false,\n      // meaning we can immediately ignore the incoming event and avoid useless extra\n      // computation for users who don't implement label interactions.\n      if (chart[EXPANDO_KEY]._listened) {\n        switch (event.type) {\n          case 'mousemove':\n          case 'mouseout':\n            handleMoveEvents(chart, event);\n            break;\n\n          case 'click':\n            handleClickEvents(chart, event);\n            break;\n\n          default:\n        }\n      }\n    },\n    afterEvent: function (chart) {\n      var expando = chart[EXPANDO_KEY];\n      var previous = expando._actives;\n      var actives = expando._actives = chart.lastActive || []; // public API?!\n\n      var updates = utils.arrayDiff(previous, actives);\n      var i, ilen, j, jlen, update, label, labels;\n\n      for (i = 0, ilen = updates.length; i < ilen; ++i) {\n        update = updates[i];\n\n        if (update[1]) {\n          labels = update[0][EXPANDO_KEY] || [];\n\n          for (j = 0, jlen = labels.length; j < jlen; ++j) {\n            label = labels[j];\n            label.$context.active = update[1] === 1;\n            label.update(label.$context);\n          }\n        }\n      }\n\n      if (expando._dirty || updates.length) {\n        layout.update(expando._labels);\n        invalidate(chart);\n      }\n\n      delete expando._dirty;\n    }\n  }; // TODO Remove at version 1, we shouldn't automatically register plugins.\n  // https://github.com/chartjs/chartjs-plugin-datalabels/issues/42\n\n  Chart.plugins.register(plugin);\n  return plugin;\n});","map":{"version":3,"sources":["/home/kunal/Kunal/THEMES/theme/node_modules/chartjs-plugin-datalabels/dist/chartjs-plugin-datalabels.js"],"names":["global","factory","exports","module","require","define","amd","self","ChartDataLabels","Chart","hasOwnProperty","helpers","devicePixelRatio","window","screen","deviceXDPI","logicalXDPI","utils","toTextLines","inputs","lines","input","concat","length","pop","unshift","apply","split","Array","isArray","push","isNullOrUndef","toFontString","font","size","family","style","weight","textSize","ctx","items","ilen","prev","width","i","string","Math","max","measureText","height","lineHeight","parseFont","value","defaults","valueOrDefault","defaultFontSize","defaultFontFamily","options","toLineHeight","defaultFontStyle","bound","min","arrayDiff","a0","a1","slice","updates","j","v","indexOf","splice","rasterize","round","orient","point","origin","x0","x","y0","y","dx","dy","ln","sqrt","aligned","vx","vy","align","PI","cos","sin","R_INSIDE","R_LEFT","R_RIGHT","R_BOTTOM","R_TOP","region","rect","res","left","right","top","bottom","clipped","segment","area","x1","y1","r0","r1","r","compute","range","config","anchor","clamp","positioners","arc","vm","angle","startAngle","endAngle","innerRadius","outerRadius","rx","radius","ry","sx","sy","horizontal","base","abs","fallback","helpers$1","boundingRects","model","borderWidth","padding","th","tw","tx","ty","frame","w","h","text","getScaleOrigin","el","_model","scale","_scale","_xScale","_yScale","xCenter","undefined","yCenter","pixel","getBasePixel","getPositioner","elements","Arc","Point","Rectangle","drawFrame","bgColor","backgroundColor","borderColor","beginPath","canvas","roundedRect","borderRadius","closePath","fillStyle","fill","strokeStyle","lineWidth","lineJoin","stroke","textGeometry","drawTextLine","cfg","shadow","shadowBlur","stroked","strokeText","filled","fillText","drawText","textAlign","color","strokeColor","textStrokeColor","strokeWidth","textStrokeWidth","textBaseline","textShadowBlur","shadowColor","textShadowColor","Label","index","me","_config","_index","_rects","_ctx","_el","extend","prototype","_modelize","display","context","resolve","defaultFontColor","chart","chartArea","clip","offset","opacity","toPadding","positioner","rotation","update","rects","label","dataset","data","callback","formatter","geometry","visible","draw","center","save","globalAlpha","translate","rotate","restore","helpers$2","MIN_INTEGER","Number","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","rotated","cx","cy","projected","points","axis","pt","dp","toAxis","p0","p1","HitBox","_rotation","_rect","contains","margin","intersects","other","_points","axes","pr0","pr1","coordinates","view","vs","collide","labels","collider","s0","s1","$layout","_visible","_box","compute$1","state","h0","_hidable","h1","layout","prepare","datasets","jlen","_set","_idx","sort","a","b","sa","sb","dirty","lookup","_view","helpers$3","keys","klen","k","isObject","Object","listeners","helpers$4","EXPANDO_KEY","DEFAULT_KEY","configure","override","datalabels","configs","merge","forEach","key","_key","reduce","target","each","fn","event","dispatchEvent","$context","groups","$groups","_dirty","dispatchMoveEvents","previous","enter","leave","handleMoveEvents","expando","_listeners","type","_labels","_hovered","handleClickEvents","handlers","click","invalidate","animating","animations","animationService","render","duration","lazy","plugins","plugin","id","beforeInit","_actives","beforeUpdate","_listened","_datasets","afterDatasetUpdate","args","datasetIndex","isDatasetVisible","meta","hidden","skip","active","dataIndex","merger","source","afterUpdate","afterDatasetsDraw","beforeEvent","afterEvent","actives","lastActive","register"],"mappings":"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","sourcesContent":["/*!\n * chartjs-plugin-datalabels v0.7.0\n * https://chartjs-plugin-datalabels.netlify.com\n * (c) 2019 Chart.js Contributors\n * Released under the MIT license\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js')) :\ntypeof define === 'function' && define.amd ? define(['chart.js'], factory) :\n(global = global || self, global.ChartDataLabels = factory(global.Chart));\n}(this, function (Chart) { 'use strict';\n\nChart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\n\nvar helpers = Chart.helpers;\n\nvar devicePixelRatio = (function() {\n\tif (typeof window !== 'undefined') {\n\t\tif (window.devicePixelRatio) {\n\t\t\treturn window.devicePixelRatio;\n\t\t}\n\n\t\t// devicePixelRatio is undefined on IE10\n\t\t// https://stackoverflow.com/a/20204180/8837887\n\t\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/85\n\t\tvar screen = window.screen;\n\t\tif (screen) {\n\t\t\treturn (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1);\n\t\t}\n\t}\n\n\treturn 1;\n}());\n\nvar utils = {\n\t// @todo move this in Chart.helpers.toTextLines\n\ttoTextLines: function(inputs) {\n\t\tvar lines = [];\n\t\tvar input;\n\n\t\tinputs = [].concat(inputs);\n\t\twhile (inputs.length) {\n\t\t\tinput = inputs.pop();\n\t\t\tif (typeof input === 'string') {\n\t\t\t\tlines.unshift.apply(lines, input.split('\\n'));\n\t\t\t} else if (Array.isArray(input)) {\n\t\t\t\tinputs.push.apply(inputs, input);\n\t\t\t} else if (!helpers.isNullOrUndef(inputs)) {\n\t\t\t\tlines.unshift('' + input);\n\t\t\t}\n\t\t}\n\n\t\treturn lines;\n\t},\n\n\t// @todo move this method in Chart.helpers.canvas.toFont (deprecates helpers.fontString)\n\t// @see https://developer.mozilla.org/en-US/docs/Web/CSS/font\n\ttoFontString: function(font) {\n\t\tif (!font || helpers.isNullOrUndef(font.size) || helpers.isNullOrUndef(font.family)) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (font.style ? font.style + ' ' : '')\n\t\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t\t+ font.size + 'px '\n\t\t\t+ font.family;\n\t},\n\n\t// @todo move this in Chart.helpers.canvas.textSize\n\t// @todo cache calls of measureText if font doesn't change?!\n\ttextSize: function(ctx, lines, font) {\n\t\tvar items = [].concat(lines);\n\t\tvar ilen = items.length;\n\t\tvar prev = ctx.font;\n\t\tvar width = 0;\n\t\tvar i;\n\n\t\tctx.font = font.string;\n\n\t\tfor (i = 0; i < ilen; ++i) {\n\t\t\twidth = Math.max(ctx.measureText(items[i]).width, width);\n\t\t}\n\n\t\tctx.font = prev;\n\n\t\treturn {\n\t\t\theight: ilen * font.lineHeight,\n\t\t\twidth: width\n\t\t};\n\t},\n\n\t// @todo move this method in Chart.helpers.options.toFont\n\tparseFont: function(value) {\n\t\tvar global = Chart.defaults.global;\n\t\tvar size = helpers.valueOrDefault(value.size, global.defaultFontSize);\n\t\tvar font = {\n\t\t\tfamily: helpers.valueOrDefault(value.family, global.defaultFontFamily),\n\t\t\tlineHeight: helpers.options.toLineHeight(value.lineHeight, size),\n\t\t\tsize: size,\n\t\t\tstyle: helpers.valueOrDefault(value.style, global.defaultFontStyle),\n\t\t\tweight: helpers.valueOrDefault(value.weight, null),\n\t\t\tstring: ''\n\t\t};\n\n\t\tfont.string = utils.toFontString(font);\n\t\treturn font;\n\t},\n\n\t/**\n\t * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\n\t * @todo move this method in Chart.helpers.bound\n\t * https://doc.qt.io/qt-5/qtglobal.html#qBound\n\t */\n\tbound: function(min, value, max) {\n\t\treturn Math.max(min, Math.min(value, max));\n\t},\n\n\t/**\n\t * Returns an array of pair [value, state] where state is:\n\t * * -1: value is only in a0 (removed)\n\t * *  1: value is only in a1 (added)\n\t */\n\tarrayDiff: function(a0, a1) {\n\t\tvar prev = a0.slice();\n\t\tvar updates = [];\n\t\tvar i, j, ilen, v;\n\n\t\tfor (i = 0, ilen = a1.length; i < ilen; ++i) {\n\t\t\tv = a1[i];\n\t\t\tj = prev.indexOf(v);\n\n\t\t\tif (j === -1) {\n\t\t\t\tupdates.push([v, 1]);\n\t\t\t} else {\n\t\t\t\tprev.splice(j, 1);\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, ilen = prev.length; i < ilen; ++i) {\n\t\t\tupdates.push([prev[i], -1]);\n\t\t}\n\n\t\treturn updates;\n\t},\n\n\t/**\n\t * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\n\t */\n\trasterize: function(v) {\n\t\treturn Math.round(v * devicePixelRatio) / devicePixelRatio;\n\t}\n};\n\nfunction orient(point, origin) {\n\tvar x0 = origin.x;\n\tvar y0 = origin.y;\n\n\tif (x0 === null) {\n\t\treturn {x: 0, y: -1};\n\t}\n\tif (y0 === null) {\n\t\treturn {x: 1, y: 0};\n\t}\n\n\tvar dx = point.x - x0;\n\tvar dy = point.y - y0;\n\tvar ln = Math.sqrt(dx * dx + dy * dy);\n\n\treturn {\n\t\tx: ln ? dx / ln : 0,\n\t\ty: ln ? dy / ln : -1\n\t};\n}\n\nfunction aligned(x, y, vx, vy, align) {\n\tswitch (align) {\n\tcase 'center':\n\t\tvx = vy = 0;\n\t\tbreak;\n\tcase 'bottom':\n\t\tvx = 0;\n\t\tvy = 1;\n\t\tbreak;\n\tcase 'right':\n\t\tvx = 1;\n\t\tvy = 0;\n\t\tbreak;\n\tcase 'left':\n\t\tvx = -1;\n\t\tvy = 0;\n\t\tbreak;\n\tcase 'top':\n\t\tvx = 0;\n\t\tvy = -1;\n\t\tbreak;\n\tcase 'start':\n\t\tvx = -vx;\n\t\tvy = -vy;\n\t\tbreak;\n\tcase 'end':\n\t\t// keep natural orientation\n\t\tbreak;\n\tdefault:\n\t\t// clockwise rotation (in degree)\n\t\talign *= (Math.PI / 180);\n\t\tvx = Math.cos(align);\n\t\tvy = Math.sin(align);\n\t\tbreak;\n\t}\n\n\treturn {\n\t\tx: x,\n\t\ty: y,\n\t\tvx: vx,\n\t\tvy: vy\n\t};\n}\n\n// Line clipping (Cohen–Sutherland algorithm)\n// https://en.wikipedia.org/wiki/Cohen–Sutherland_algorithm\n\nvar R_INSIDE = 0;\nvar R_LEFT = 1;\nvar R_RIGHT = 2;\nvar R_BOTTOM = 4;\nvar R_TOP = 8;\n\nfunction region(x, y, rect) {\n\tvar res = R_INSIDE;\n\n\tif (x < rect.left) {\n\t\tres |= R_LEFT;\n\t} else if (x > rect.right) {\n\t\tres |= R_RIGHT;\n\t}\n\tif (y < rect.top) {\n\t\tres |= R_TOP;\n\t} else if (y > rect.bottom) {\n\t\tres |= R_BOTTOM;\n\t}\n\n\treturn res;\n}\n\nfunction clipped(segment, area) {\n\tvar x0 = segment.x0;\n\tvar y0 = segment.y0;\n\tvar x1 = segment.x1;\n\tvar y1 = segment.y1;\n\tvar r0 = region(x0, y0, area);\n\tvar r1 = region(x1, y1, area);\n\tvar r, x, y;\n\n\t// eslint-disable-next-line no-constant-condition\n\twhile (true) {\n\t\tif (!(r0 | r1) || (r0 & r1)) {\n\t\t\t// both points inside or on the same side: no clipping\n\t\t\tbreak;\n\t\t}\n\n\t\t// at least one point is outside\n\t\tr = r0 || r1;\n\n\t\tif (r & R_TOP) {\n\t\t\tx = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0);\n\t\t\ty = area.top;\n\t\t} else if (r & R_BOTTOM) {\n\t\t\tx = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0);\n\t\t\ty = area.bottom;\n\t\t} else if (r & R_RIGHT) {\n\t\t\ty = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0);\n\t\t\tx = area.right;\n\t\t} else if (r & R_LEFT) {\n\t\t\ty = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0);\n\t\t\tx = area.left;\n\t\t}\n\n\t\tif (r === r0) {\n\t\t\tx0 = x;\n\t\t\ty0 = y;\n\t\t\tr0 = region(x0, y0, area);\n\t\t} else {\n\t\t\tx1 = x;\n\t\t\ty1 = y;\n\t\t\tr1 = region(x1, y1, area);\n\t\t}\n\t}\n\n\treturn {\n\t\tx0: x0,\n\t\tx1: x1,\n\t\ty0: y0,\n\t\ty1: y1\n\t};\n}\n\nfunction compute(range, config) {\n\tvar anchor = config.anchor;\n\tvar segment = range;\n\tvar x, y;\n\n\tif (config.clamp) {\n\t\tsegment = clipped(segment, config.area);\n\t}\n\n\tif (anchor === 'start') {\n\t\tx = segment.x0;\n\t\ty = segment.y0;\n\t} else if (anchor === 'end') {\n\t\tx = segment.x1;\n\t\ty = segment.y1;\n\t} else {\n\t\tx = (segment.x0 + segment.x1) / 2;\n\t\ty = (segment.y0 + segment.y1) / 2;\n\t}\n\n\treturn aligned(x, y, range.vx, range.vy, config.align);\n}\n\nvar positioners = {\n\tarc: function(vm, config) {\n\t\tvar angle = (vm.startAngle + vm.endAngle) / 2;\n\t\tvar vx = Math.cos(angle);\n\t\tvar vy = Math.sin(angle);\n\t\tvar r0 = vm.innerRadius;\n\t\tvar r1 = vm.outerRadius;\n\n\t\treturn compute({\n\t\t\tx0: vm.x + vx * r0,\n\t\t\ty0: vm.y + vy * r0,\n\t\t\tx1: vm.x + vx * r1,\n\t\t\ty1: vm.y + vy * r1,\n\t\t\tvx: vx,\n\t\t\tvy: vy\n\t\t}, config);\n\t},\n\n\tpoint: function(vm, config) {\n\t\tvar v = orient(vm, config.origin);\n\t\tvar rx = v.x * vm.radius;\n\t\tvar ry = v.y * vm.radius;\n\n\t\treturn compute({\n\t\t\tx0: vm.x - rx,\n\t\t\ty0: vm.y - ry,\n\t\t\tx1: vm.x + rx,\n\t\t\ty1: vm.y + ry,\n\t\t\tvx: v.x,\n\t\t\tvy: v.y\n\t\t}, config);\n\t},\n\n\trect: function(vm, config) {\n\t\tvar v = orient(vm, config.origin);\n\t\tvar x = vm.x;\n\t\tvar y = vm.y;\n\t\tvar sx = 0;\n\t\tvar sy = 0;\n\n\t\tif (vm.horizontal) {\n\t\t\tx = Math.min(vm.x, vm.base);\n\t\t\tsx = Math.abs(vm.base - vm.x);\n\t\t} else {\n\t\t\ty = Math.min(vm.y, vm.base);\n\t\t\tsy = Math.abs(vm.base - vm.y);\n\t\t}\n\n\t\treturn compute({\n\t\t\tx0: x,\n\t\t\ty0: y + sy,\n\t\t\tx1: x + sx,\n\t\t\ty1: y,\n\t\t\tvx: v.x,\n\t\t\tvy: v.y\n\t\t}, config);\n\t},\n\n\tfallback: function(vm, config) {\n\t\tvar v = orient(vm, config.origin);\n\n\t\treturn compute({\n\t\t\tx0: vm.x,\n\t\t\ty0: vm.y,\n\t\t\tx1: vm.x,\n\t\t\ty1: vm.y,\n\t\t\tvx: v.x,\n\t\t\tvy: v.y\n\t\t}, config);\n\t}\n};\n\nvar helpers$1 = Chart.helpers;\nvar rasterize = utils.rasterize;\n\nfunction boundingRects(model) {\n\tvar borderWidth = model.borderWidth || 0;\n\tvar padding = model.padding;\n\tvar th = model.size.height;\n\tvar tw = model.size.width;\n\tvar tx = -tw / 2;\n\tvar ty = -th / 2;\n\n\treturn {\n\t\tframe: {\n\t\t\tx: tx - padding.left - borderWidth,\n\t\t\ty: ty - padding.top - borderWidth,\n\t\t\tw: tw + padding.width + borderWidth * 2,\n\t\t\th: th + padding.height + borderWidth * 2\n\t\t},\n\t\ttext: {\n\t\t\tx: tx,\n\t\t\ty: ty,\n\t\t\tw: tw,\n\t\t\th: th\n\t\t}\n\t};\n}\n\nfunction getScaleOrigin(el) {\n\tvar horizontal = el._model.horizontal;\n\tvar scale = el._scale || (horizontal && el._xScale) || el._yScale;\n\n\tif (!scale) {\n\t\treturn null;\n\t}\n\n\tif (scale.xCenter !== undefined && scale.yCenter !== undefined) {\n\t\treturn {x: scale.xCenter, y: scale.yCenter};\n\t}\n\n\tvar pixel = scale.getBasePixel();\n\treturn horizontal ?\n\t\t{x: pixel, y: null} :\n\t\t{x: null, y: pixel};\n}\n\nfunction getPositioner(el) {\n\tif (el instanceof Chart.elements.Arc) {\n\t\treturn positioners.arc;\n\t}\n\tif (el instanceof Chart.elements.Point) {\n\t\treturn positioners.point;\n\t}\n\tif (el instanceof Chart.elements.Rectangle) {\n\t\treturn positioners.rect;\n\t}\n\treturn positioners.fallback;\n}\n\nfunction drawFrame(ctx, rect, model) {\n\tvar bgColor = model.backgroundColor;\n\tvar borderColor = model.borderColor;\n\tvar borderWidth = model.borderWidth;\n\n\tif (!bgColor && (!borderColor || !borderWidth)) {\n\t\treturn;\n\t}\n\n\tctx.beginPath();\n\n\thelpers$1.canvas.roundedRect(\n\t\tctx,\n\t\trasterize(rect.x) + borderWidth / 2,\n\t\trasterize(rect.y) + borderWidth / 2,\n\t\trasterize(rect.w) - borderWidth,\n\t\trasterize(rect.h) - borderWidth,\n\t\tmodel.borderRadius);\n\n\tctx.closePath();\n\n\tif (bgColor) {\n\t\tctx.fillStyle = bgColor;\n\t\tctx.fill();\n\t}\n\n\tif (borderColor && borderWidth) {\n\t\tctx.strokeStyle = borderColor;\n\t\tctx.lineWidth = borderWidth;\n\t\tctx.lineJoin = 'miter';\n\t\tctx.stroke();\n\t}\n}\n\nfunction textGeometry(rect, align, font) {\n\tvar h = font.lineHeight;\n\tvar w = rect.w;\n\tvar x = rect.x;\n\tvar y = rect.y + h / 2;\n\n\tif (align === 'center') {\n\t\tx += w / 2;\n\t} else if (align === 'end' || align === 'right') {\n\t\tx += w;\n\t}\n\n\treturn {\n\t\th: h,\n\t\tw: w,\n\t\tx: x,\n\t\ty: y\n\t};\n}\n\nfunction drawTextLine(ctx, text, cfg) {\n\tvar shadow = ctx.shadowBlur;\n\tvar stroked = cfg.stroked;\n\tvar x = rasterize(cfg.x);\n\tvar y = rasterize(cfg.y);\n\tvar w = rasterize(cfg.w);\n\n\tif (stroked) {\n\t\tctx.strokeText(text, x, y, w);\n\t}\n\n\tif (cfg.filled) {\n\t\tif (shadow && stroked) {\n\t\t\t// Prevent drawing shadow on both the text stroke and fill, so\n\t\t\t// if the text is stroked, remove the shadow for the text fill.\n\t\t\tctx.shadowBlur = 0;\n\t\t}\n\n\t\tctx.fillText(text, x, y, w);\n\n\t\tif (shadow && stroked) {\n\t\t\tctx.shadowBlur = shadow;\n\t\t}\n\t}\n}\n\nfunction drawText(ctx, lines, rect, model) {\n\tvar align = model.textAlign;\n\tvar color = model.color;\n\tvar filled = !!color;\n\tvar font = model.font;\n\tvar ilen = lines.length;\n\tvar strokeColor = model.textStrokeColor;\n\tvar strokeWidth = model.textStrokeWidth;\n\tvar stroked = strokeColor && strokeWidth;\n\tvar i;\n\n\tif (!ilen || (!filled && !stroked)) {\n\t\treturn;\n\t}\n\n\t// Adjust coordinates based on text alignment and line height\n\trect = textGeometry(rect, align, font);\n\n\tctx.font = font.string;\n\tctx.textAlign = align;\n\tctx.textBaseline = 'middle';\n\tctx.shadowBlur = model.textShadowBlur;\n\tctx.shadowColor = model.textShadowColor;\n\n\tif (filled) {\n\t\tctx.fillStyle = color;\n\t}\n\tif (stroked) {\n\t\tctx.lineJoin = 'round';\n\t\tctx.lineWidth = strokeWidth;\n\t\tctx.strokeStyle = strokeColor;\n\t}\n\n\tfor (i = 0, ilen = lines.length; i < ilen; ++i) {\n\t\tdrawTextLine(ctx, lines[i], {\n\t\t\tstroked: stroked,\n\t\t\tfilled: filled,\n\t\t\tw: rect.w,\n\t\t\tx: rect.x,\n\t\t\ty: rect.y + rect.h * i\n\t\t});\n\t}\n}\n\nvar Label = function(config, ctx, el, index) {\n\tvar me = this;\n\n\tme._config = config;\n\tme._index = index;\n\tme._model = null;\n\tme._rects = null;\n\tme._ctx = ctx;\n\tme._el = el;\n};\n\nhelpers$1.extend(Label.prototype, {\n\t/**\n\t * @private\n\t */\n\t_modelize: function(display, lines, config, context) {\n\t\tvar me = this;\n\t\tvar index = me._index;\n\t\tvar resolve = helpers$1.options.resolve;\n\t\tvar font = utils.parseFont(resolve([config.font, {}], context, index));\n\t\tvar color = resolve([config.color, Chart.defaults.global.defaultFontColor], context, index);\n\n\t\treturn {\n\t\t\talign: resolve([config.align, 'center'], context, index),\n\t\t\tanchor: resolve([config.anchor, 'center'], context, index),\n\t\t\tarea: context.chart.chartArea,\n\t\t\tbackgroundColor: resolve([config.backgroundColor, null], context, index),\n\t\t\tborderColor: resolve([config.borderColor, null], context, index),\n\t\t\tborderRadius: resolve([config.borderRadius, 0], context, index),\n\t\t\tborderWidth: resolve([config.borderWidth, 0], context, index),\n\t\t\tclamp: resolve([config.clamp, false], context, index),\n\t\t\tclip: resolve([config.clip, false], context, index),\n\t\t\tcolor: color,\n\t\t\tdisplay: display,\n\t\t\tfont: font,\n\t\t\tlines: lines,\n\t\t\toffset: resolve([config.offset, 0], context, index),\n\t\t\topacity: resolve([config.opacity, 1], context, index),\n\t\t\torigin: getScaleOrigin(me._el),\n\t\t\tpadding: helpers$1.options.toPadding(resolve([config.padding, 0], context, index)),\n\t\t\tpositioner: getPositioner(me._el),\n\t\t\trotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180),\n\t\t\tsize: utils.textSize(me._ctx, lines, font),\n\t\t\ttextAlign: resolve([config.textAlign, 'start'], context, index),\n\t\t\ttextShadowBlur: resolve([config.textShadowBlur, 0], context, index),\n\t\t\ttextShadowColor: resolve([config.textShadowColor, color], context, index),\n\t\t\ttextStrokeColor: resolve([config.textStrokeColor, color], context, index),\n\t\t\ttextStrokeWidth: resolve([config.textStrokeWidth, 0], context, index)\n\t\t};\n\t},\n\n\tupdate: function(context) {\n\t\tvar me = this;\n\t\tvar model = null;\n\t\tvar rects = null;\n\t\tvar index = me._index;\n\t\tvar config = me._config;\n\t\tvar value, label, lines;\n\n\t\t// We first resolve the display option (separately) to avoid computing\n\t\t// other options in case the label is hidden (i.e. display: false).\n\t\tvar display = helpers$1.options.resolve([config.display, true], context, index);\n\n\t\tif (display) {\n\t\t\tvalue = context.dataset.data[index];\n\t\t\tlabel = helpers$1.valueOrDefault(helpers$1.callback(config.formatter, [value, context]), value);\n\t\t\tlines = helpers$1.isNullOrUndef(label) ? [] : utils.toTextLines(label);\n\n\t\t\tif (lines.length) {\n\t\t\t\tmodel = me._modelize(display, lines, config, context);\n\t\t\t\trects = boundingRects(model);\n\t\t\t}\n\t\t}\n\n\t\tme._model = model;\n\t\tme._rects = rects;\n\t},\n\n\tgeometry: function() {\n\t\treturn this._rects ? this._rects.frame : {};\n\t},\n\n\trotation: function() {\n\t\treturn this._model ? this._model.rotation : 0;\n\t},\n\n\tvisible: function() {\n\t\treturn this._model && this._model.opacity;\n\t},\n\n\tmodel: function() {\n\t\treturn this._model;\n\t},\n\n\tdraw: function(chart, center) {\n\t\tvar me = this;\n\t\tvar ctx = chart.ctx;\n\t\tvar model = me._model;\n\t\tvar rects = me._rects;\n\t\tvar area;\n\n\t\tif (!this.visible()) {\n\t\t\treturn;\n\t\t}\n\n\t\tctx.save();\n\n\t\tif (model.clip) {\n\t\t\tarea = model.area;\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(\n\t\t\t\tarea.left,\n\t\t\t\tarea.top,\n\t\t\t\tarea.right - area.left,\n\t\t\t\tarea.bottom - area.top);\n\t\t\tctx.clip();\n\t\t}\n\n\t\tctx.globalAlpha = utils.bound(0, model.opacity, 1);\n\t\tctx.translate(rasterize(center.x), rasterize(center.y));\n\t\tctx.rotate(model.rotation);\n\n\t\tdrawFrame(ctx, rects.frame, model);\n\t\tdrawText(ctx, model.lines, rects.text, model);\n\n\t\tctx.restore();\n\t}\n});\n\nvar helpers$2 = Chart.helpers;\n\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991; // eslint-disable-line es/no-number-minsafeinteger\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;  // eslint-disable-line es/no-number-maxsafeinteger\n\nfunction rotated(point, center, angle) {\n\tvar cos = Math.cos(angle);\n\tvar sin = Math.sin(angle);\n\tvar cx = center.x;\n\tvar cy = center.y;\n\n\treturn {\n\t\tx: cx + cos * (point.x - cx) - sin * (point.y - cy),\n\t\ty: cy + sin * (point.x - cx) + cos * (point.y - cy)\n\t};\n}\n\nfunction projected(points, axis) {\n\tvar min = MAX_INTEGER;\n\tvar max = MIN_INTEGER;\n\tvar origin = axis.origin;\n\tvar i, pt, vx, vy, dp;\n\n\tfor (i = 0; i < points.length; ++i) {\n\t\tpt = points[i];\n\t\tvx = pt.x - origin.x;\n\t\tvy = pt.y - origin.y;\n\t\tdp = axis.vx * vx + axis.vy * vy;\n\t\tmin = Math.min(min, dp);\n\t\tmax = Math.max(max, dp);\n\t}\n\n\treturn {\n\t\tmin: min,\n\t\tmax: max\n\t};\n}\n\nfunction toAxis(p0, p1) {\n\tvar vx = p1.x - p0.x;\n\tvar vy = p1.y - p0.y;\n\tvar ln = Math.sqrt(vx * vx + vy * vy);\n\n\treturn {\n\t\tvx: (p1.x - p0.x) / ln,\n\t\tvy: (p1.y - p0.y) / ln,\n\t\torigin: p0,\n\t\tln: ln\n\t};\n}\n\nvar HitBox = function() {\n\tthis._rotation = 0;\n\tthis._rect = {\n\t\tx: 0,\n\t\ty: 0,\n\t\tw: 0,\n\t\th: 0\n\t};\n};\n\nhelpers$2.extend(HitBox.prototype, {\n\tcenter: function() {\n\t\tvar r = this._rect;\n\t\treturn {\n\t\t\tx: r.x + r.w / 2,\n\t\t\ty: r.y + r.h / 2\n\t\t};\n\t},\n\n\tupdate: function(center, rect, rotation) {\n\t\tthis._rotation = rotation;\n\t\tthis._rect = {\n\t\t\tx: rect.x + center.x,\n\t\t\ty: rect.y + center.y,\n\t\t\tw: rect.w,\n\t\t\th: rect.h\n\t\t};\n\t},\n\n\tcontains: function(point) {\n\t\tvar me = this;\n\t\tvar margin = 1;\n\t\tvar rect = me._rect;\n\n\t\tpoint = rotated(point, me.center(), -me._rotation);\n\n\t\treturn !(point.x < rect.x - margin\n\t\t\t|| point.y < rect.y - margin\n\t\t\t|| point.x > rect.x + rect.w + margin * 2\n\t\t\t|| point.y > rect.y + rect.h + margin * 2);\n\t},\n\n\t// Separating Axis Theorem\n\t// https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\n\tintersects: function(other) {\n\t\tvar r0 = this._points();\n\t\tvar r1 = other._points();\n\t\tvar axes = [\n\t\t\ttoAxis(r0[0], r0[1]),\n\t\t\ttoAxis(r0[0], r0[3])\n\t\t];\n\t\tvar i, pr0, pr1;\n\n\t\tif (this._rotation !== other._rotation) {\n\t\t\t// Only separate with r1 axis if the rotation is different,\n\t\t\t// else it's enough to separate r0 and r1 with r0 axis only!\n\t\t\taxes.push(\n\t\t\t\ttoAxis(r1[0], r1[1]),\n\t\t\t\ttoAxis(r1[0], r1[3])\n\t\t\t);\n\t\t}\n\n\t\tfor (i = 0; i < axes.length; ++i) {\n\t\t\tpr0 = projected(r0, axes[i]);\n\t\t\tpr1 = projected(r1, axes[i]);\n\n\t\t\tif (pr0.max < pr1.min || pr1.max < pr0.min) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * @private\n\t */\n\t_points: function() {\n\t\tvar me = this;\n\t\tvar rect = me._rect;\n\t\tvar angle = me._rotation;\n\t\tvar center = me.center();\n\n\t\treturn [\n\t\t\trotated({x: rect.x, y: rect.y}, center, angle),\n\t\t\trotated({x: rect.x + rect.w, y: rect.y}, center, angle),\n\t\t\trotated({x: rect.x + rect.w, y: rect.y + rect.h}, center, angle),\n\t\t\trotated({x: rect.x, y: rect.y + rect.h}, center, angle)\n\t\t];\n\t}\n});\n\nfunction coordinates(view, model, geometry) {\n\tvar point = model.positioner(view, model);\n\tvar vx = point.vx;\n\tvar vy = point.vy;\n\n\tif (!vx && !vy) {\n\t\t// if aligned center, we don't want to offset the center point\n\t\treturn {x: point.x, y: point.y};\n\t}\n\n\tvar w = geometry.w;\n\tvar h = geometry.h;\n\n\t// take in account the label rotation\n\tvar rotation = model.rotation;\n\tvar dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation));\n\tvar dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation));\n\n\t// scale the unit vector (vx, vy) to get at least dx or dy equal to\n\t// w or h respectively (else we would calculate the distance to the\n\t// ellipse inscribed in the bounding rect)\n\tvar vs = 1 / Math.max(Math.abs(vx), Math.abs(vy));\n\tdx *= vx * vs;\n\tdy *= vy * vs;\n\n\t// finally, include the explicit offset\n\tdx += model.offset * vx;\n\tdy += model.offset * vy;\n\n\treturn {\n\t\tx: point.x + dx,\n\t\ty: point.y + dy\n\t};\n}\n\nfunction collide(labels, collider) {\n\tvar i, j, s0, s1;\n\n\t// IMPORTANT Iterate in the reverse order since items at the end of the\n\t// list have an higher weight/priority and thus should be less impacted\n\t// by the overlapping strategy.\n\n\tfor (i = labels.length - 1; i >= 0; --i) {\n\t\ts0 = labels[i].$layout;\n\n\t\tfor (j = i - 1; j >= 0 && s0._visible; --j) {\n\t\t\ts1 = labels[j].$layout;\n\n\t\t\tif (s1._visible && s0._box.intersects(s1._box)) {\n\t\t\t\tcollider(s0, s1);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn labels;\n}\n\nfunction compute$1(labels) {\n\tvar i, ilen, label, state, geometry, center;\n\n\t// Initialize labels for overlap detection\n\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\n\t\tlabel = labels[i];\n\t\tstate = label.$layout;\n\n\t\tif (state._visible) {\n\t\t\tgeometry = label.geometry();\n\t\t\tcenter = coordinates(label._el._model, label.model(), geometry);\n\t\t\tstate._box.update(center, geometry, label.rotation());\n\t\t}\n\t}\n\n\t// Auto hide overlapping labels\n\treturn collide(labels, function(s0, s1) {\n\t\tvar h0 = s0._hidable;\n\t\tvar h1 = s1._hidable;\n\n\t\tif ((h0 && h1) || h1) {\n\t\t\ts1._visible = false;\n\t\t} else if (h0) {\n\t\t\ts0._visible = false;\n\t\t}\n\t});\n}\n\nvar layout = {\n\tprepare: function(datasets) {\n\t\tvar labels = [];\n\t\tvar i, j, ilen, jlen, label;\n\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\n\t\t\tfor (j = 0, jlen = datasets[i].length; j < jlen; ++j) {\n\t\t\t\tlabel = datasets[i][j];\n\t\t\t\tlabels.push(label);\n\t\t\t\tlabel.$layout = {\n\t\t\t\t\t_box: new HitBox(),\n\t\t\t\t\t_hidable: false,\n\t\t\t\t\t_visible: true,\n\t\t\t\t\t_set: i,\n\t\t\t\t\t_idx: j\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// TODO New `z` option: labels with a higher z-index are drawn\n\t\t// of top of the ones with a lower index. Lowest z-index labels\n\t\t// are also discarded first when hiding overlapping labels.\n\t\tlabels.sort(function(a, b) {\n\t\t\tvar sa = a.$layout;\n\t\t\tvar sb = b.$layout;\n\n\t\t\treturn sa._idx === sb._idx\n\t\t\t\t? sb._set - sa._set\n\t\t\t\t: sb._idx - sa._idx;\n\t\t});\n\n\t\tthis.update(labels);\n\n\t\treturn labels;\n\t},\n\n\tupdate: function(labels) {\n\t\tvar dirty = false;\n\t\tvar i, ilen, label, model, state;\n\n\t\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\n\t\t\tlabel = labels[i];\n\t\t\tmodel = label.model();\n\t\t\tstate = label.$layout;\n\t\t\tstate._hidable = model && model.display === 'auto';\n\t\t\tstate._visible = label.visible();\n\t\t\tdirty |= state._hidable;\n\t\t}\n\n\t\tif (dirty) {\n\t\t\tcompute$1(labels);\n\t\t}\n\t},\n\n\tlookup: function(labels, point) {\n\t\tvar i, state;\n\n\t\t// IMPORTANT Iterate in the reverse order since items at the end of\n\t\t// the list have an higher z-index, thus should be picked first.\n\n\t\tfor (i = labels.length - 1; i >= 0; --i) {\n\t\t\tstate = labels[i].$layout;\n\n\t\t\tif (state && state._visible && state._box.contains(point)) {\n\t\t\t\treturn labels[i];\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tdraw: function(chart, labels) {\n\t\tvar i, ilen, label, state, geometry, center;\n\n\t\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\n\t\t\tlabel = labels[i];\n\t\t\tstate = label.$layout;\n\n\t\t\tif (state._visible) {\n\t\t\t\tgeometry = label.geometry();\n\t\t\t\tcenter = coordinates(label._el._view, label.model(), geometry);\n\t\t\t\tstate._box.update(center, geometry, label.rotation());\n\t\t\t\tlabel.draw(chart, center);\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar helpers$3 = Chart.helpers;\n\nvar formatter = function(value) {\n\tif (helpers$3.isNullOrUndef(value)) {\n\t\treturn null;\n\t}\n\n\tvar label = value;\n\tvar keys, klen, k;\n\tif (helpers$3.isObject(value)) {\n\t\tif (!helpers$3.isNullOrUndef(value.label)) {\n\t\t\tlabel = value.label;\n\t\t} else if (!helpers$3.isNullOrUndef(value.r)) {\n\t\t\tlabel = value.r;\n\t\t} else {\n\t\t\tlabel = '';\n\t\t\tkeys = Object.keys(value);\n\t\t\tfor (k = 0, klen = keys.length; k < klen; ++k) {\n\t\t\t\tlabel += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn '' + label;\n};\n\n/**\n * IMPORTANT: make sure to also update tests and TypeScript definition\n * files (`/test/specs/defaults.spec.js` and `/types/options.d.ts`)\n */\n\nvar defaults = {\n\talign: 'center',\n\tanchor: 'center',\n\tbackgroundColor: null,\n\tborderColor: null,\n\tborderRadius: 0,\n\tborderWidth: 0,\n\tclamp: false,\n\tclip: false,\n\tcolor: undefined,\n\tdisplay: true,\n\tfont: {\n\t\tfamily: undefined,\n\t\tlineHeight: 1.2,\n\t\tsize: undefined,\n\t\tstyle: undefined,\n\t\tweight: null\n\t},\n\tformatter: formatter,\n\tlabels: undefined,\n\tlisteners: {},\n\toffset: 4,\n\topacity: 1,\n\tpadding: {\n\t\ttop: 4,\n\t\tright: 4,\n\t\tbottom: 4,\n\t\tleft: 4\n\t},\n\trotation: 0,\n\ttextAlign: 'start',\n\ttextStrokeColor: undefined,\n\ttextStrokeWidth: 0,\n\ttextShadowBlur: 0,\n\ttextShadowColor: undefined\n};\n\n/**\n * @see https://github.com/chartjs/Chart.js/issues/4176\n */\n\nvar helpers$4 = Chart.helpers;\nvar EXPANDO_KEY = '$datalabels';\nvar DEFAULT_KEY = '$default';\n\nfunction configure(dataset, options) {\n\tvar override = dataset.datalabels;\n\tvar listeners = {};\n\tvar configs = [];\n\tvar labels, keys;\n\n\tif (override === false) {\n\t\treturn null;\n\t}\n\tif (override === true) {\n\t\toverride = {};\n\t}\n\n\toptions = helpers$4.merge({}, [options, override]);\n\tlabels = options.labels || {};\n\tkeys = Object.keys(labels);\n\tdelete options.labels;\n\n\tif (keys.length) {\n\t\tkeys.forEach(function(key) {\n\t\t\tif (labels[key]) {\n\t\t\t\tconfigs.push(helpers$4.merge({}, [\n\t\t\t\t\toptions,\n\t\t\t\t\tlabels[key],\n\t\t\t\t\t{_key: key}\n\t\t\t\t]));\n\t\t\t}\n\t\t});\n\t} else {\n\t\t// Default label if no \"named\" label defined.\n\t\tconfigs.push(options);\n\t}\n\n\t// listeners: {<event-type>: {<label-key>: <fn>}}\n\tlisteners = configs.reduce(function(target, config) {\n\t\thelpers$4.each(config.listeners || {}, function(fn, event) {\n\t\t\ttarget[event] = target[event] || {};\n\t\t\ttarget[event][config._key || DEFAULT_KEY] = fn;\n\t\t});\n\n\t\tdelete config.listeners;\n\t\treturn target;\n\t}, {});\n\n\treturn {\n\t\tlabels: configs,\n\t\tlisteners: listeners\n\t};\n}\n\nfunction dispatchEvent(chart, listeners, label) {\n\tif (!listeners) {\n\t\treturn;\n\t}\n\n\tvar context = label.$context;\n\tvar groups = label.$groups;\n\tvar callback;\n\n\tif (!listeners[groups._set]) {\n\t\treturn;\n\t}\n\n\tcallback = listeners[groups._set][groups._key];\n\tif (!callback) {\n\t\treturn;\n\t}\n\n\tif (helpers$4.callback(callback, [context]) === true) {\n\t\t// Users are allowed to tweak the given context by injecting values that can be\n\t\t// used in scriptable options to display labels differently based on the current\n\t\t// event (e.g. highlight an hovered label). That's why we update the label with\n\t\t// the output context and schedule a new chart render by setting it dirty.\n\t\tchart[EXPANDO_KEY]._dirty = true;\n\t\tlabel.update(context);\n\t}\n}\n\nfunction dispatchMoveEvents(chart, listeners, previous, label) {\n\tvar enter, leave;\n\n\tif (!previous && !label) {\n\t\treturn;\n\t}\n\n\tif (!previous) {\n\t\tenter = true;\n\t} else if (!label) {\n\t\tleave = true;\n\t} else if (previous !== label) {\n\t\tleave = enter = true;\n\t}\n\n\tif (leave) {\n\t\tdispatchEvent(chart, listeners.leave, previous);\n\t}\n\tif (enter) {\n\t\tdispatchEvent(chart, listeners.enter, label);\n\t}\n}\n\nfunction handleMoveEvents(chart, event) {\n\tvar expando = chart[EXPANDO_KEY];\n\tvar listeners = expando._listeners;\n\tvar previous, label;\n\n\tif (!listeners.enter && !listeners.leave) {\n\t\treturn;\n\t}\n\n\tif (event.type === 'mousemove') {\n\t\tlabel = layout.lookup(expando._labels, event);\n\t} else if (event.type !== 'mouseout') {\n\t\treturn;\n\t}\n\n\tprevious = expando._hovered;\n\texpando._hovered = label;\n\tdispatchMoveEvents(chart, listeners, previous, label);\n}\n\nfunction handleClickEvents(chart, event) {\n\tvar expando = chart[EXPANDO_KEY];\n\tvar handlers = expando._listeners.click;\n\tvar label = handlers && layout.lookup(expando._labels, event);\n\tif (label) {\n\t\tdispatchEvent(chart, handlers, label);\n\t}\n}\n\n// https://github.com/chartjs/chartjs-plugin-datalabels/issues/108\nfunction invalidate(chart) {\n\tif (chart.animating) {\n\t\treturn;\n\t}\n\n\t// `chart.animating` can be `false` even if there is animation in progress,\n\t// so let's iterate all animations to find if there is one for the `chart`.\n\tvar animations = Chart.animationService.animations;\n\tfor (var i = 0, ilen = animations.length; i < ilen; ++i) {\n\t\tif (animations[i].chart === chart) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// No render scheduled: trigger a \"lazy\" render that can be canceled in case\n\t// of hover interactions. The 1ms duration is a workaround to make sure an\n\t// animation is created so the controller can stop it before any transition.\n\tchart.render({duration: 1, lazy: true});\n}\n\nChart.defaults.global.plugins.datalabels = defaults;\n\nvar plugin = {\n\tid: 'datalabels',\n\n\tbeforeInit: function(chart) {\n\t\tchart[EXPANDO_KEY] = {\n\t\t\t_actives: []\n\t\t};\n\t},\n\n\tbeforeUpdate: function(chart) {\n\t\tvar expando = chart[EXPANDO_KEY];\n\t\texpando._listened = false;\n\t\texpando._listeners = {};     // {<event-type>: {<dataset-index>: {<label-key>: <fn>}}}\n\t\texpando._datasets = [];      // per dataset labels: [Label[]]\n\t\texpando._labels = [];        // layouted labels: Label[]\n\t},\n\n\tafterDatasetUpdate: function(chart, args, options) {\n\t\tvar datasetIndex = args.index;\n\t\tvar expando = chart[EXPANDO_KEY];\n\t\tvar labels = expando._datasets[datasetIndex] = [];\n\t\tvar visible = chart.isDatasetVisible(datasetIndex);\n\t\tvar dataset = chart.data.datasets[datasetIndex];\n\t\tvar config = configure(dataset, options);\n\t\tvar elements = args.meta.data || [];\n\t\tvar ctx = chart.ctx;\n\t\tvar i, j, ilen, jlen, cfg, key, el, label;\n\n\t\tctx.save();\n\n\t\tfor (i = 0, ilen = elements.length; i < ilen; ++i) {\n\t\t\tel = elements[i];\n\t\t\tel[EXPANDO_KEY] = [];\n\n\t\t\tif (visible && el && !el.hidden && !el._model.skip) {\n\t\t\t\tfor (j = 0, jlen = config.labels.length; j < jlen; ++j) {\n\t\t\t\t\tcfg = config.labels[j];\n\t\t\t\t\tkey = cfg._key;\n\n\t\t\t\t\tlabel = new Label(cfg, ctx, el, i);\n\t\t\t\t\tlabel.$groups = {\n\t\t\t\t\t\t_set: datasetIndex,\n\t\t\t\t\t\t_key: key || DEFAULT_KEY\n\t\t\t\t\t};\n\t\t\t\t\tlabel.$context = {\n\t\t\t\t\t\tactive: false,\n\t\t\t\t\t\tchart: chart,\n\t\t\t\t\t\tdataIndex: i,\n\t\t\t\t\t\tdataset: dataset,\n\t\t\t\t\t\tdatasetIndex: datasetIndex\n\t\t\t\t\t};\n\n\t\t\t\t\tlabel.update(label.$context);\n\t\t\t\t\tel[EXPANDO_KEY].push(label);\n\t\t\t\t\tlabels.push(label);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tctx.restore();\n\n\t\t// Store listeners at the chart level and per event type to optimize\n\t\t// cases where no listeners are registered for a specific event.\n\t\thelpers$4.merge(expando._listeners, config.listeners, {\n\t\t\tmerger: function(event, target, source) {\n\t\t\t\ttarget[event] = target[event] || {};\n\t\t\t\ttarget[event][args.index] = source[event];\n\t\t\t\texpando._listened = true;\n\t\t\t}\n\t\t});\n\t},\n\n\tafterUpdate: function(chart, options) {\n\t\tchart[EXPANDO_KEY]._labels = layout.prepare(\n\t\t\tchart[EXPANDO_KEY]._datasets,\n\t\t\toptions);\n\t},\n\n\t// Draw labels on top of all dataset elements\n\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\n\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\n\tafterDatasetsDraw: function(chart) {\n\t\tlayout.draw(chart, chart[EXPANDO_KEY]._labels);\n\t},\n\n\tbeforeEvent: function(chart, event) {\n\t\t// If there is no listener registered for this chart, `listened` will be false,\n\t\t// meaning we can immediately ignore the incoming event and avoid useless extra\n\t\t// computation for users who don't implement label interactions.\n\t\tif (chart[EXPANDO_KEY]._listened) {\n\t\t\tswitch (event.type) {\n\t\t\tcase 'mousemove':\n\t\t\tcase 'mouseout':\n\t\t\t\thandleMoveEvents(chart, event);\n\t\t\t\tbreak;\n\t\t\tcase 'click':\n\t\t\t\thandleClickEvents(chart, event);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t}\n\t\t}\n\t},\n\n\tafterEvent: function(chart) {\n\t\tvar expando = chart[EXPANDO_KEY];\n\t\tvar previous = expando._actives;\n\t\tvar actives = expando._actives = chart.lastActive || [];  // public API?!\n\t\tvar updates = utils.arrayDiff(previous, actives);\n\t\tvar i, ilen, j, jlen, update, label, labels;\n\n\t\tfor (i = 0, ilen = updates.length; i < ilen; ++i) {\n\t\t\tupdate = updates[i];\n\t\t\tif (update[1]) {\n\t\t\t\tlabels = update[0][EXPANDO_KEY] || [];\n\t\t\t\tfor (j = 0, jlen = labels.length; j < jlen; ++j) {\n\t\t\t\t\tlabel = labels[j];\n\t\t\t\t\tlabel.$context.active = (update[1] === 1);\n\t\t\t\t\tlabel.update(label.$context);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (expando._dirty || updates.length) {\n\t\t\tlayout.update(expando._labels);\n\t\t\tinvalidate(chart);\n\t\t}\n\n\t\tdelete expando._dirty;\n\t}\n};\n\n// TODO Remove at version 1, we shouldn't automatically register plugins.\n// https://github.com/chartjs/chartjs-plugin-datalabels/issues/42\nChart.plugins.register(plugin);\n\nreturn plugin;\n\n}));\n"]},"metadata":{},"sourceType":"script"}