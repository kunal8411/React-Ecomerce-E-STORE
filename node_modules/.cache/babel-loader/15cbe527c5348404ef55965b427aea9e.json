{"ast":null,"code":"var EventEmitter = require('events').EventEmitter;\n\nmodule.exports = function (elem) {\n  return new Ever(elem);\n};\n\nfunction Ever(elem) {\n  this.element = elem;\n}\n\nEver.prototype = new EventEmitter();\n\nEver.prototype.on = function (name, cb, useCapture) {\n  if (!this._events) this._events = {};\n  if (!this._events[name]) this._events[name] = [];\n\n  this._events[name].push(cb);\n\n  this.element.addEventListener(name, cb, useCapture || false);\n  return this;\n};\n\nEver.prototype.addListener = Ever.prototype.on;\n\nEver.prototype.removeListener = function (type, listener, useCapture) {\n  if (!this._events) this._events = {};\n  this.element.removeEventListener(type, listener, useCapture || false);\n  var xs = this.listeners(type);\n  var ix = xs.indexOf(listener);\n  if (ix >= 0) xs.splice(ix, 1);\n  return this;\n};\n\nEver.prototype.removeAllListeners = function (type) {\n  var self = this;\n\n  function removeAll(t) {\n    var xs = self.listeners(t);\n\n    for (var i = 0; i < xs.length; i++) {\n      self.removeListener(t, xs[i]);\n    }\n  }\n\n  if (type) {\n    removeAll(type);\n  } else if (self._events) {\n    for (var key in self._events) {\n      if (key) removeAll(key);\n    }\n  }\n\n  return EventEmitter.prototype.removeAllListeners.apply(self, arguments);\n};\n\nvar initSignatures = require('./init.json');\n\nEver.prototype.emit = function (name, ev) {\n  if (typeof name === 'object') {\n    ev = name;\n    name = ev.type;\n  }\n\n  if (!isEvent(ev)) {\n    var type = Ever.typeOf(name);\n    var opts = ev || {};\n    if (opts.type === undefined) opts.type = name;\n    ev = document.createEvent(type + 's');\n    var init = typeof ev['init' + type] === 'function' ? 'init' + type : 'initEvent';\n    var sig = initSignatures[init];\n    var used = {};\n    var args = [];\n\n    for (var i = 0; i < sig.length; i++) {\n      var key = sig[i];\n      args.push(opts[key]);\n      used[key] = true;\n    }\n\n    ev[init].apply(ev, args); // attach remaining unused options to the object\n\n    for (var key in opts) {\n      if (!used[key]) ev[key] = opts[key];\n    }\n  }\n\n  return this.element.dispatchEvent(ev);\n};\n\nfunction isEvent(ev) {\n  var s = Object.prototype.toString.call(ev);\n  return /\\[object \\S+Event\\]/.test(s);\n}\n\nEver.types = require('./types.json');\n\nEver.typeOf = function () {\n  var types = {};\n\n  for (var key in Ever.types) {\n    var ts = Ever.types[key];\n\n    for (var i = 0; i < ts.length; i++) {\n      types[ts[i]] = key;\n    }\n  }\n\n  return function (name) {\n    return types[name] || 'Event';\n  };\n}();\n\n;","map":{"version":3,"sources":["/home/kunal/Kunal/THEMES/theme/node_modules/ever/index.js"],"names":["EventEmitter","require","module","exports","elem","Ever","element","prototype","on","name","cb","useCapture","_events","push","addEventListener","addListener","removeListener","type","listener","removeEventListener","xs","listeners","ix","indexOf","splice","removeAllListeners","self","removeAll","t","i","length","key","apply","arguments","initSignatures","emit","ev","isEvent","typeOf","opts","undefined","document","createEvent","init","sig","used","args","dispatchEvent","s","Object","toString","call","test","types","ts"],"mappings":"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","sourcesContent":["var EventEmitter = require('events').EventEmitter;\n\nmodule.exports = function (elem) {\n    return new Ever(elem);\n};\n\nfunction Ever (elem) {\n    this.element = elem;\n}\n\nEver.prototype = new EventEmitter;\n\nEver.prototype.on = function (name, cb, useCapture) {\n    if (!this._events) this._events = {};\n    if (!this._events[name]) this._events[name] = [];\n    this._events[name].push(cb);\n    this.element.addEventListener(name, cb, useCapture || false);\n\n    return this;\n};\nEver.prototype.addListener = Ever.prototype.on;\n\nEver.prototype.removeListener = function (type, listener, useCapture) {\n    if (!this._events) this._events = {};\n    this.element.removeEventListener(type, listener, useCapture || false);\n    \n    var xs = this.listeners(type);\n    var ix = xs.indexOf(listener);\n    if (ix >= 0) xs.splice(ix, 1);\n\n    return this;\n};\n\nEver.prototype.removeAllListeners = function (type) {\n    var self = this;\n    function removeAll (t) {\n        var xs = self.listeners(t);\n        for (var i = 0; i < xs.length; i++) {\n            self.removeListener(t, xs[i]);\n        }\n    }\n    \n    if (type) {\n        removeAll(type)\n    }\n    else if (self._events) {\n        for (var key in self._events) {\n            if (key) removeAll(key);\n        }\n    }\n    return EventEmitter.prototype.removeAllListeners.apply(self, arguments);\n}\n\nvar initSignatures = require('./init.json');\n\nEver.prototype.emit = function (name, ev) {\n    if (typeof name === 'object') {\n        ev = name;\n        name = ev.type;\n    }\n    \n    if (!isEvent(ev)) {\n        var type = Ever.typeOf(name);\n        \n        var opts = ev || {};\n        if (opts.type === undefined) opts.type = name;\n        \n        ev = document.createEvent(type + 's');\n        var init = typeof ev['init' + type] === 'function'\n            ? 'init' + type : 'initEvent'\n        ;\n        \n        var sig = initSignatures[init];\n        var used = {};\n        var args = [];\n        \n        for (var i = 0; i < sig.length; i++) {\n            var key = sig[i];\n            args.push(opts[key]);\n            used[key] = true;\n        }\n        ev[init].apply(ev, args);\n        \n        // attach remaining unused options to the object\n        for (var key in opts) {\n            if (!used[key]) ev[key] = opts[key];\n        }\n    }\n    return this.element.dispatchEvent(ev);\n};\n\nfunction isEvent (ev) {\n    var s = Object.prototype.toString.call(ev);\n    return /\\[object \\S+Event\\]/.test(s);\n}\n\nEver.types = require('./types.json');\nEver.typeOf = (function () {\n    var types = {};\n    for (var key in Ever.types) {\n        var ts = Ever.types[key];\n        for (var i = 0; i < ts.length; i++) {\n            types[ts[i]] = key;\n        }\n    }\n    \n    return function (name) {\n        return types[name] || 'Event';\n    };\n})();;\n"]},"metadata":{},"sourceType":"script"}