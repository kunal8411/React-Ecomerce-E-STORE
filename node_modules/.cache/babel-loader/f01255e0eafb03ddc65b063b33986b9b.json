{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useState, useRef, useCallback } from 'react';\nimport { node, bool, string, any, arrayOf, oneOfType, object, func } from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { hiddenGuard } from './FocusGuard';\nimport { mediumFocus, mediumBlur, mediumSidecar } from './medium';\nvar emptyArray = [];\nvar FocusLock = React.forwardRef(function (props, parentRef) {\n  var _extends2;\n\n  var _useState = useState(),\n      realObserved = _useState[0],\n      setObserved = _useState[1];\n\n  var observed = useRef();\n  var isActive = useRef(false);\n  var originalFocusedElement = useRef(null);\n  var children = props.children,\n      disabled = props.disabled,\n      noFocusGuards = props.noFocusGuards,\n      persistentFocus = props.persistentFocus,\n      autoFocus = props.autoFocus,\n      allowTextSelection = props.allowTextSelection,\n      group = props.group,\n      className = props.className,\n      whiteList = props.whiteList,\n      _props$shards = props.shards,\n      shards = _props$shards === void 0 ? emptyArray : _props$shards,\n      _props$as = props.as,\n      Container = _props$as === void 0 ? 'div' : _props$as,\n      _props$lockProps = props.lockProps,\n      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n      SideCar = props.sideCar,\n      shouldReturnFocus = props.returnFocus,\n      onActivationCallback = props.onActivation,\n      onDeactivationCallback = props.onDeactivation;\n\n  var _useState2 = useState({}),\n      id = _useState2[0]; // SIDE EFFECT CALLBACKS\n\n\n  var onActivation = useCallback(function () {\n    originalFocusedElement.current = originalFocusedElement.current || document && document.activeElement;\n\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n\n    isActive.current = true;\n  }, [onActivationCallback]);\n  var onDeactivation = useCallback(function () {\n    isActive.current = false;\n\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n  }, [onDeactivationCallback]);\n  var returnFocus = useCallback(function (allowDefer) {\n    var current = originalFocusedElement.current;\n\n    if (Boolean(shouldReturnFocus) && current && current.focus) {\n      var focusOptions = typeof shouldReturnFocus === 'object' ? shouldReturnFocus : undefined;\n      originalFocusedElement.current = null;\n\n      if (allowDefer) {\n        // React might return focus after update\n        // it's safer to defer the action\n        Promise.resolve().then(function () {\n          return current.focus(focusOptions);\n        });\n      } else {\n        current.focus(focusOptions);\n      }\n    }\n  }, [shouldReturnFocus]); // MEDIUM CALLBACKS\n\n  var onFocus = useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium; // REF PROPAGATION\n  // not using real refs due to race conditions\n\n  var setObserveNode = useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n\n    React.useEffect(function () {\n      if (!observed.current) {\n        // eslint-disable-next-line no-console\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n\n  var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  return React.createElement(React.Fragment, null, hasLeadingGuards && [React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }), // nearest focus guard\n  React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  })], !disabled && React.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus\n  }), React.createElement(Container, _extends({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), children), hasTailingGuards && React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: node,\n  disabled: bool,\n  returnFocus: oneOfType([bool, object]),\n  noFocusGuards: bool,\n  allowTextSelection: bool,\n  autoFocus: bool,\n  persistentFocus: bool,\n  group: string,\n  className: string,\n  whiteList: func,\n  shards: arrayOf(any),\n  as: oneOfType([string, func, object]),\n  lockProps: object,\n  onActivation: func,\n  onDeactivation: func,\n  sideCar: any.isRequired\n} : {};\nFocusLock.defaultProps = {\n  children: undefined,\n  disabled: false,\n  returnFocus: false,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nexport default FocusLock;","map":{"version":3,"sources":["/home/kunal/Kunal/THEMES/theme/node_modules/react-focus-lock/dist/es2015/Lock.js"],"names":["_extends","React","useState","useRef","useCallback","node","bool","string","any","arrayOf","oneOfType","object","func","constants","useMergeRefs","hiddenGuard","mediumFocus","mediumBlur","mediumSidecar","emptyArray","FocusLock","forwardRef","props","parentRef","_extends2","_useState","realObserved","setObserved","observed","isActive","originalFocusedElement","children","disabled","noFocusGuards","persistentFocus","autoFocus","allowTextSelection","group","className","whiteList","_props$shards","shards","_props$as","as","Container","_props$lockProps","lockProps","containerProps","SideCar","sideCar","shouldReturnFocus","returnFocus","onActivationCallback","onActivation","onDeactivationCallback","onDeactivation","_useState2","id","current","document","activeElement","allowDefer","Boolean","focus","focusOptions","undefined","Promise","resolve","then","onFocus","event","useMedium","onBlur","setObserveNode","newObserved","process","env","NODE_ENV","console","warn","useEffect","error","FOCUS_DISABLED","FOCUS_GROUP","hasLeadingGuards","hasTailingGuards","mergedRef","createElement","Fragment","key","tabIndex","style","ref","propTypes","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React, { useState, useRef, useCallback } from 'react';\nimport { node, bool, string, any, arrayOf, oneOfType, object, func } from 'prop-types';\nimport * as constants from 'focus-lock/constants';\nimport { useMergeRefs } from 'use-callback-ref';\nimport { hiddenGuard } from './FocusGuard';\nimport { mediumFocus, mediumBlur, mediumSidecar } from './medium';\nvar emptyArray = [];\nvar FocusLock = React.forwardRef(function (props, parentRef) {\n  var _extends2;\n\n  var _useState = useState(),\n      realObserved = _useState[0],\n      setObserved = _useState[1];\n\n  var observed = useRef();\n  var isActive = useRef(false);\n  var originalFocusedElement = useRef(null);\n  var children = props.children,\n      disabled = props.disabled,\n      noFocusGuards = props.noFocusGuards,\n      persistentFocus = props.persistentFocus,\n      autoFocus = props.autoFocus,\n      allowTextSelection = props.allowTextSelection,\n      group = props.group,\n      className = props.className,\n      whiteList = props.whiteList,\n      _props$shards = props.shards,\n      shards = _props$shards === void 0 ? emptyArray : _props$shards,\n      _props$as = props.as,\n      Container = _props$as === void 0 ? 'div' : _props$as,\n      _props$lockProps = props.lockProps,\n      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n      SideCar = props.sideCar,\n      shouldReturnFocus = props.returnFocus,\n      onActivationCallback = props.onActivation,\n      onDeactivationCallback = props.onDeactivation;\n\n  var _useState2 = useState({}),\n      id = _useState2[0]; // SIDE EFFECT CALLBACKS\n\n\n  var onActivation = useCallback(function () {\n    originalFocusedElement.current = originalFocusedElement.current || document && document.activeElement;\n\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n\n    isActive.current = true;\n  }, [onActivationCallback]);\n  var onDeactivation = useCallback(function () {\n    isActive.current = false;\n\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n  }, [onDeactivationCallback]);\n  var returnFocus = useCallback(function (allowDefer) {\n    var current = originalFocusedElement.current;\n\n    if (Boolean(shouldReturnFocus) && current && current.focus) {\n      var focusOptions = typeof shouldReturnFocus === 'object' ? shouldReturnFocus : undefined;\n      originalFocusedElement.current = null;\n\n      if (allowDefer) {\n        // React might return focus after update\n        // it's safer to defer the action\n        Promise.resolve().then(function () {\n          return current.focus(focusOptions);\n        });\n      } else {\n        current.focus(focusOptions);\n      }\n    }\n  }, [shouldReturnFocus]); // MEDIUM CALLBACKS\n\n  var onFocus = useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium; // REF PROPAGATION\n  // not using real refs due to race conditions\n\n  var setObserveNode = useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (typeof allowTextSelection !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');\n    }\n\n    React.useEffect(function () {\n      if (!observed.current) {\n        // eslint-disable-next-line no-console\n        console.error('FocusLock: could not obtain ref to internal node');\n      }\n    }, []);\n  }\n\n  var lockProps = _extends((_extends2 = {}, _extends2[constants.FOCUS_DISABLED] = disabled && 'disabled', _extends2[constants.FOCUS_GROUP] = group, _extends2), containerProps);\n\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  return React.createElement(React.Fragment, null, hasLeadingGuards && [React.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }), // nearest focus guard\n  React.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  })], !disabled && React.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus\n  }), React.createElement(Container, _extends({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), children), hasTailingGuards && React.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  children: node,\n  disabled: bool,\n  returnFocus: oneOfType([bool, object]),\n  noFocusGuards: bool,\n  allowTextSelection: bool,\n  autoFocus: bool,\n  persistentFocus: bool,\n  group: string,\n  className: string,\n  whiteList: func,\n  shards: arrayOf(any),\n  as: oneOfType([string, func, object]),\n  lockProps: object,\n  onActivation: func,\n  onDeactivation: func,\n  sideCar: any.isRequired\n} : {};\nFocusLock.defaultProps = {\n  children: undefined,\n  disabled: false,\n  returnFocus: false,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\nexport default FocusLock;"]},"metadata":{},"sourceType":"module"}